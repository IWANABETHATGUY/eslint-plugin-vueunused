{"version":3,"sources":["webpack:///./node_modules/vue-eslint-editor/dist/jsonMode.js"],"names":["ParseOptions","STOP_WHEN_IDLE_FOR","WorkerManager","defaults","_this","this","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","clearInterval","timePassedSinceLastUsed","Date","now","_getClient","monaco","editor","createWebWorker","moduleId","label","languageId","createData","languageSettings","diagnosticsOptions","enableSchemaRequest","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","then","client","_","withSyncedResources","createScanner","text","ignoreTrivia","len","pos","value","tokenOffset","token","lineNumber","lineStartOffset","tokenLineStartOffset","prevTokenLineStartOffset","scanError","scanHexDigits","count","exact","digits","ch","charCodeAt","setPosition","newPosition","scanNumber","start","isDigit","substring","end","scanString","result","isLineBreak","ch2","ch3","String","fromCharCode","scanNext","code","isWhiteSpace","safeLength","commentClosed","isUnknownContentCharacter","scanNextNonTrivia","getPosition","scan","getToken","getTokenValue","getTokenOffset","getTokenLength","getTokenStartLine","getTokenStartCharacter","getTokenError","parse","errors","options","DEFAULT","currentProperty","currentParent","previousParents","onValue","Array","isArray","push","visitor","onObjectBegin","object","onObjectProperty","name","onObjectEnd","pop","onArrayBegin","array","onArrayEnd","onLiteralValue","onError","error","offset","visit","getNodeValue","node","type","children","map","obj","Object","create","_a","prop","valueNode","_scanner","toNoArgVisit","visitFunction","toOneArgVisit","arg","onSeparator","onComment","disallowComments","allowTrailingComma","handleError","skipUntilAfter","skipUntil","indexOf","parseString","isValue","parseLiteral","JSON","e","parseProperty","parseValue","parseObject","needsComma","parseArray","allowEmptyContent","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","Diagnostic","Command","TextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","createScanner$1","parse$1","getNodeValue$1","isBoolean","val","line","character","is","candidate","Is","objectLiteral","number","one","two","three","four","Error","uri","range","defined","string","undefined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","color","textEdit","additionalTextEdits","typedArray","startLine","endLine","startCharacter","endCharacter","kind","location","message","Warning","Information","Hint","Unnecessary","Deprecated","severity","source","relatedInformation","title","command","args","replace","newText","insert","position","del","textDocument","edits","VersionedTextDocumentIdentifier","overwrite","ignoreIfExists","boolean","oldUri","newUri","recursive","ignoreIfNotExists","changes","documentChanges","every","change","TextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","DocumentSymbol","CodeActionKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","TextDocument","TextEditChangeImpl","delete","add","edit","all","clear","splice","WorkspaceChange","workspaceEdit","_textEditChanges","_workspaceEdit","forEach","textEditChange","keys","key","defineProperty","get","enumerable","configurable","getTextEditChange","textDocumentEdit","createFile","checkDocumentChanges","renameFile","deleteFile","version","PlainText","Markdown","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Event","Operator","TypeParameter","items","isIncomplete","fromPlainText","plainText","language","contents","documentation","parameters","Read","Write","Namespace","Package","Number","Boolean","Key","Null","containerName","detail","selectionRange","deprecated","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","diagnostics","only","commandOrEdit","isPreferred","data","tabSize","insertSpaces","target","parent","content","FullTextDocument","lineCount","func","getText","positionAt","offsetAt","applyEdits","document","sortedEdits","mergeSort","a","b","diff","lastModifiedOffset","i","startOffset","endOffset","compare","p","left","slice","right","leftIdx","rightIdx","ret","_uri","_languageId","_version","_content","_lineOffsets","update","event","getLineOffsets","lineOffsets","isLineStart","charAt","Math","max","min","low","high","mid","floor","lineOffset","nextLineOffset","toString","undefined$1","call","check","TextDocument$1","ErrorCode","ClientCapabilities","FullTextDocument$1","changes_1","isIncremental","getWellformedRange","addedLineOffsets","computeLineOffsets","apply","concat","isFull","rangeLength","isAtLineStart","textOffset","getWellformedEdit","format","match","rest","index","localize","loadMessageBundle","file","LATEST","completion","completionItem","documentationFormat","commitCharactersSupport","EnumMatch","__extends","extendStatics","d","setPrototypeOf","__proto__","hasOwnProperty","__","constructor","localize$1","ASTNodeImpl","_super","NullASTNodeImpl","BooleanASTNodeImpl","boolValue","ArrayASTNodeImpl","NumberASTNodeImpl","isInteger","NaN","StringASTNodeImpl","PropertyASTNodeImpl","colonOffset","keyNode","ObjectASTNodeImpl","properties","asSchema","schema","NoOpSchemaCollector","merge","other","include","newSub","instance","getNodeValue$2","startsWith","haystack","needle","endsWith","lastIndexOf","convertSimple2RegExpPattern","pattern","isWindows","__extends$1","process","platform","navigator","userAgent","_schemePattern","_singleSlashStart","_doubleSlashStart","_validateUri","_strict","scheme","authority","path","query","fragment","test","_schemeFix","_referenceResolution","_slash","_empty","_regexp","URI","schemeOrData","isUri","thing","fsPath","with","_makeFsPath","_URI","exec","decodeURIComponent","idx","from","components","skipEncoding","_asFormatted","toJSON","revive","_formatted","external","_fsPath","_sep","_pathSepMarker","res","$mid","encodeTable","encodeURIComponentFast","uriComponent","allowSlash","nativeEncodePos","encodeURIComponent","substr","escaped","encodeURIComponentMinimal","toLowerCase","encoder","userinfo","localize$2","FilePatternAssociation","patternRegExp","RegExp","schemas","addSchema","id","matchesPattern","fileName","getSchemas","SchemaHandle","service","url","unresolvedSchemaContent","dependencies","unresolvedSchema","promise","resolve","UnresolvedSchema","getUnresolvedSchema","loadSchema","getResolvedSchema","resolvedSchema","unresolved","resolveSchemaContent","clearSchema","ResolvedSchema","getSection","getSectionRecursive","next","shift","patternProperties","regex","additionalProperties","parseInt","isNaN","JSONSchemaService","requestService","contextService","promiseConstructor","Promise","callOnDispose","contributionSchemas","contributionAssociations","schemasById","filePatternAssociations","filePatternAssociationById","registeredSchemasIds","getRegisteredSchemaIds","filter","onResourceChange","hasChanges","normalizeId","toWalk","curr","handle","setSchemaContributions","schemaContributions","normalizedId","addSchemaHandle","schemaAssociations","associations","fpa","getOrAddFilePatternAssociation","associations_1","schemaId","schemaHandle","getOrAddSchemaHandle","registerExternalSchema","filePatterns","filePatterns_1","clearExternalSchemas","errorMessage","toDisplayString","schemaContent","jsonErrors","errorSplit","split","schemaToResolve","schemaURL","resolveErrors","$schema","findSection","current","some","part","sourceRoot","sourceURI","section","resolveExternalLink","linkPath","parentSchemaURL","parentSchemaDependencies","resolveRelativePath","referencedHandle","loc","resolveRefs","parentSchema","seen","openPromises","collectEntries","entries","entries_1","entry","collectMapEntries","maps","maps_1","collectArrayEntries","arrays","arrays_1","_b","array_1","handleRef","seenRefs","$ref","ref","segments","not","contains","propertyNames","if","else","definitions","anyOf","allOf","oneOf","getSchemaForResource","resource","root","schemaProperties","schemeId","_c","createCombinedSchema","schemaIds","combinedSchemaId","combinedSchema","localize$3","descriptions","description","default","multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","enum","$id","$comment","readOnly","examples","const","contentMediaType","contentEncoding","schemaName","property","propertyObject","console","log","Uri","Range$1","DiagnosticsAdapter","_disposables","_listener","onModelAdd","model","modeId","getModeId","onDidChangeContent","clearTimeout","setTimeout","_doValidate","onModelRemoved","setModelMarkers","uriStr","listener","onDidCreateModel","onWillDisposeModel","_resetSchema","onDidChangeModelLanguage","getModels","worker","resetSchema","doValidation","markers","toDiagnostics","getModel","err","toSeverity","lsSeverity","MarkerSeverity","Info","diag","startLineNumber","startColumn","endLineNumber","endColumn","fromPosition","column","fromRange","toRange","toCompletionItemKind","mItemKind","languages","toTextEdit","CompletionAdapter","provideCompletionItems","context","doComplete","info","wordInfo","getWordUntilPosition","wordRange","item","insertText","sortText","filterText","insertTextFormat","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","suggestions","isMarkupContent","toMarkdownString","toMarkedStringArray","HoverAdapter","provideHover","doHover","toSymbolKind","mKind","DocumentSymbolAdapter","provideDocumentSymbols","findDocumentSymbols","tags","fromFormattingOptions","DocumentFormattingEditProvider","provideDocumentFormattingEdits","DocumentRangeFormattingEditProvider","provideDocumentRangeFormattingEdits","DocumentColorAdapter","provideDocumentColors","findDocumentColors","infos","provideColorPresentations","getColorPresentations","presentations","presentation","FoldingRangeAdapter","provideFoldingRanges","getFoldingRanges","ranges","toFoldingRangeKind","Comment","Imports","Region","SelectionRangeAdapter","provideSelectionRanges","positions","getSelectionRanges","selectionRanges","createTokenizationSupport","supportComments","getInitialState","JSONState","tokenize","state","offsetDelta","stopAtOffset","TOKEN_DELIM_OBJECT","TOKEN_DELIM_ARRAY","TOKEN_DELIM_COLON","TOKEN_DELIM_COMMA","TOKEN_VALUE_BOOLEAN","TOKEN_VALUE_NULL","TOKEN_VALUE_STRING","TOKEN_VALUE_NUMBER","TOKEN_PROPERTY_NAME","TOKEN_COMMENT_BLOCK","TOKEN_COMMENT_LINE","lastWasColon","_state","clone","equals","getStateData","setStateData","comments","numberOfInsertedCharacters","adjustOffset","scanner","tokens","endState","startIndex","scopes","setupMode","disposables","providers","uris","registerProviders","modeConfiguration","disposeAll","documentFormattingEdits","registerDocumentFormattingEditProvider","documentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","completionItems","registerCompletionItemProvider","hovers","registerHoverProvider","documentSymbols","registerDocumentSymbolProvider","setTokensProvider","colors","registerColorProvider","foldingRanges","registerFoldingRangeProvider","registerSelectionRangeProvider","setLanguageConfiguration","richEditConfiguration","newDefaults","asDisposable","wordPattern","lineComment","blockComment","brackets","autoClosingPairs","open","close","notIn"],"mappings":"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","file":"js/chunk-2d0cfdbe.a55e6938.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\r\nvar WorkerManager = /** @class */ (function () {\r\n    function WorkerManager(defaults) {\r\n        var _this = this;\r\n        this._defaults = defaults;\r\n        this._worker = null;\r\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\r\n        this._lastUsedTime = 0;\r\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\r\n    }\r\n    WorkerManager.prototype._stopWorker = function () {\r\n        if (this._worker) {\r\n            this._worker.dispose();\r\n            this._worker = null;\r\n        }\r\n        this._client = null;\r\n    };\r\n    WorkerManager.prototype.dispose = function () {\r\n        clearInterval(this._idleCheckInterval);\r\n        this._configChangeListener.dispose();\r\n        this._stopWorker();\r\n    };\r\n    WorkerManager.prototype._checkIfIdle = function () {\r\n        if (!this._worker) {\r\n            return;\r\n        }\r\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\r\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\r\n            this._stopWorker();\r\n        }\r\n    };\r\n    WorkerManager.prototype._getClient = function () {\r\n        this._lastUsedTime = Date.now();\r\n        if (!this._client) {\r\n            this._worker = monaco.editor.createWebWorker({\r\n                // module that exports the create() method and returns a `JSONWorker` instance\r\n                moduleId: 'vs/language/json/jsonWorker',\r\n                label: this._defaults.languageId,\r\n                // passed in to the create() method\r\n                createData: {\r\n                    languageSettings: this._defaults.diagnosticsOptions,\r\n                    languageId: this._defaults.languageId,\r\n                    enableSchemaRequest: this._defaults.diagnosticsOptions.enableSchemaRequest\r\n                }\r\n            });\r\n            this._client = this._worker.getProxy();\r\n        }\r\n        return this._client;\r\n    };\r\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\r\n        var _this = this;\r\n        var resources = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            resources[_i] = arguments[_i];\r\n        }\r\n        var _client;\r\n        return this._getClient().then(function (client) {\r\n            _client = client;\r\n        }).then(function (_) {\r\n            return _this._worker.withSyncedResources(resources);\r\n        }).then(function (_) { return _client; });\r\n    };\r\n    return WorkerManager;\r\n}());\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * Creates a JSON scanner on the given text.\n * If ignoreTrivia is set, whitespaces or comments are ignored.\n */\nfunction createScanner(text, ignoreTrivia) {\n    if (ignoreTrivia === void 0) { ignoreTrivia = false; }\n    var len = text.length;\n    var pos = 0, value = '', tokenOffset = 0, token = 16 /* Unknown */, lineNumber = 0, lineStartOffset = 0, tokenLineStartOffset = 0, prevTokenLineStartOffset = 0, scanError = 0 /* None */;\n    function scanHexDigits(count, exact) {\n        var digits = 0;\n        var value = 0;\n        while (digits < count || !exact) {\n            var ch = text.charCodeAt(pos);\n            if (ch >= 48 /* _0 */ && ch <= 57 /* _9 */) {\n                value = value * 16 + ch - 48 /* _0 */;\n            }\n            else if (ch >= 65 /* A */ && ch <= 70 /* F */) {\n                value = value * 16 + ch - 65 /* A */ + 10;\n            }\n            else if (ch >= 97 /* a */ && ch <= 102 /* f */) {\n                value = value * 16 + ch - 97 /* a */ + 10;\n            }\n            else {\n                break;\n            }\n            pos++;\n            digits++;\n        }\n        if (digits < count) {\n            value = -1;\n        }\n        return value;\n    }\n    function setPosition(newPosition) {\n        pos = newPosition;\n        value = '';\n        tokenOffset = 0;\n        token = 16 /* Unknown */;\n        scanError = 0 /* None */;\n    }\n    function scanNumber() {\n        var start = pos;\n        if (text.charCodeAt(pos) === 48 /* _0 */) {\n            pos++;\n        }\n        else {\n            pos++;\n            while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n            }\n        }\n        if (pos < text.length && text.charCodeAt(pos) === 46 /* dot */) {\n            pos++;\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n            }\n            else {\n                scanError = 3 /* UnexpectedEndOfNumber */;\n                return text.substring(start, pos);\n            }\n        }\n        var end = pos;\n        if (pos < text.length && (text.charCodeAt(pos) === 69 /* E */ || text.charCodeAt(pos) === 101 /* e */)) {\n            pos++;\n            if (pos < text.length && text.charCodeAt(pos) === 43 /* plus */ || text.charCodeAt(pos) === 45 /* minus */) {\n                pos++;\n            }\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n                end = pos;\n            }\n            else {\n                scanError = 3 /* UnexpectedEndOfNumber */;\n            }\n        }\n        return text.substring(start, end);\n    }\n    function scanString() {\n        var result = '', start = pos;\n        while (true) {\n            if (pos >= len) {\n                result += text.substring(start, pos);\n                scanError = 2 /* UnexpectedEndOfString */;\n                break;\n            }\n            var ch = text.charCodeAt(pos);\n            if (ch === 34 /* doubleQuote */) {\n                result += text.substring(start, pos);\n                pos++;\n                break;\n            }\n            if (ch === 92 /* backslash */) {\n                result += text.substring(start, pos);\n                pos++;\n                if (pos >= len) {\n                    scanError = 2 /* UnexpectedEndOfString */;\n                    break;\n                }\n                var ch2 = text.charCodeAt(pos++);\n                switch (ch2) {\n                    case 34 /* doubleQuote */:\n                        result += '\\\"';\n                        break;\n                    case 92 /* backslash */:\n                        result += '\\\\';\n                        break;\n                    case 47 /* slash */:\n                        result += '/';\n                        break;\n                    case 98 /* b */:\n                        result += '\\b';\n                        break;\n                    case 102 /* f */:\n                        result += '\\f';\n                        break;\n                    case 110 /* n */:\n                        result += '\\n';\n                        break;\n                    case 114 /* r */:\n                        result += '\\r';\n                        break;\n                    case 116 /* t */:\n                        result += '\\t';\n                        break;\n                    case 117 /* u */:\n                        var ch3 = scanHexDigits(4, true);\n                        if (ch3 >= 0) {\n                            result += String.fromCharCode(ch3);\n                        }\n                        else {\n                            scanError = 4 /* InvalidUnicode */;\n                        }\n                        break;\n                    default:\n                        scanError = 5 /* InvalidEscapeCharacter */;\n                }\n                start = pos;\n                continue;\n            }\n            if (ch >= 0 && ch <= 0x1f) {\n                if (isLineBreak(ch)) {\n                    result += text.substring(start, pos);\n                    scanError = 2 /* UnexpectedEndOfString */;\n                    break;\n                }\n                else {\n                    scanError = 6 /* InvalidCharacter */;\n                    // mark as error but continue with string\n                }\n            }\n            pos++;\n        }\n        return result;\n    }\n    function scanNext() {\n        value = '';\n        scanError = 0 /* None */;\n        tokenOffset = pos;\n        lineStartOffset = lineNumber;\n        prevTokenLineStartOffset = tokenLineStartOffset;\n        if (pos >= len) {\n            // at the end\n            tokenOffset = len;\n            return token = 17 /* EOF */;\n        }\n        var code = text.charCodeAt(pos);\n        // trivia: whitespace\n        if (isWhiteSpace(code)) {\n            do {\n                pos++;\n                value += String.fromCharCode(code);\n                code = text.charCodeAt(pos);\n            } while (isWhiteSpace(code));\n            return token = 15 /* Trivia */;\n        }\n        // trivia: newlines\n        if (isLineBreak(code)) {\n            pos++;\n            value += String.fromCharCode(code);\n            if (code === 13 /* carriageReturn */ && text.charCodeAt(pos) === 10 /* lineFeed */) {\n                pos++;\n                value += '\\n';\n            }\n            lineNumber++;\n            tokenLineStartOffset = pos;\n            return token = 14 /* LineBreakTrivia */;\n        }\n        switch (code) {\n            // tokens: []{}:,\n            case 123 /* openBrace */:\n                pos++;\n                return token = 1 /* OpenBraceToken */;\n            case 125 /* closeBrace */:\n                pos++;\n                return token = 2 /* CloseBraceToken */;\n            case 91 /* openBracket */:\n                pos++;\n                return token = 3 /* OpenBracketToken */;\n            case 93 /* closeBracket */:\n                pos++;\n                return token = 4 /* CloseBracketToken */;\n            case 58 /* colon */:\n                pos++;\n                return token = 6 /* ColonToken */;\n            case 44 /* comma */:\n                pos++;\n                return token = 5 /* CommaToken */;\n            // strings\n            case 34 /* doubleQuote */:\n                pos++;\n                value = scanString();\n                return token = 10 /* StringLiteral */;\n            // comments\n            case 47 /* slash */:\n                var start = pos - 1;\n                // Single-line comment\n                if (text.charCodeAt(pos + 1) === 47 /* slash */) {\n                    pos += 2;\n                    while (pos < len) {\n                        if (isLineBreak(text.charCodeAt(pos))) {\n                            break;\n                        }\n                        pos++;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 12 /* LineCommentTrivia */;\n                }\n                // Multi-line comment\n                if (text.charCodeAt(pos + 1) === 42 /* asterisk */) {\n                    pos += 2;\n                    var safeLength = len - 1; // For lookahead.\n                    var commentClosed = false;\n                    while (pos < safeLength) {\n                        var ch = text.charCodeAt(pos);\n                        if (ch === 42 /* asterisk */ && text.charCodeAt(pos + 1) === 47 /* slash */) {\n                            pos += 2;\n                            commentClosed = true;\n                            break;\n                        }\n                        pos++;\n                        if (isLineBreak(ch)) {\n                            if (ch === 13 /* carriageReturn */ && text.charCodeAt(pos) === 10 /* lineFeed */) {\n                                pos++;\n                            }\n                            lineNumber++;\n                            tokenLineStartOffset = pos;\n                        }\n                    }\n                    if (!commentClosed) {\n                        pos++;\n                        scanError = 1 /* UnexpectedEndOfComment */;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 13 /* BlockCommentTrivia */;\n                }\n                // just a single slash\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* Unknown */;\n            // numbers\n            case 45 /* minus */:\n                value += String.fromCharCode(code);\n                pos++;\n                if (pos === len || !isDigit(text.charCodeAt(pos))) {\n                    return token = 16 /* Unknown */;\n                }\n            // found a minus, followed by a number so\n            // we fall through to proceed with scanning\n            // numbers\n            case 48 /* _0 */:\n            case 49 /* _1 */:\n            case 50 /* _2 */:\n            case 51 /* _3 */:\n            case 52 /* _4 */:\n            case 53 /* _5 */:\n            case 54 /* _6 */:\n            case 55 /* _7 */:\n            case 56 /* _8 */:\n            case 57 /* _9 */:\n                value += scanNumber();\n                return token = 11 /* NumericLiteral */;\n            // literals and unknown symbols\n            default:\n                // is a literal? Read the full word.\n                while (pos < len && isUnknownContentCharacter(code)) {\n                    pos++;\n                    code = text.charCodeAt(pos);\n                }\n                if (tokenOffset !== pos) {\n                    value = text.substring(tokenOffset, pos);\n                    // keywords: true, false, null\n                    switch (value) {\n                        case 'true': return token = 8 /* TrueKeyword */;\n                        case 'false': return token = 9 /* FalseKeyword */;\n                        case 'null': return token = 7 /* NullKeyword */;\n                    }\n                    return token = 16 /* Unknown */;\n                }\n                // some\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* Unknown */;\n        }\n    }\n    function isUnknownContentCharacter(code) {\n        if (isWhiteSpace(code) || isLineBreak(code)) {\n            return false;\n        }\n        switch (code) {\n            case 125 /* closeBrace */:\n            case 93 /* closeBracket */:\n            case 123 /* openBrace */:\n            case 91 /* openBracket */:\n            case 34 /* doubleQuote */:\n            case 58 /* colon */:\n            case 44 /* comma */:\n            case 47 /* slash */:\n                return false;\n        }\n        return true;\n    }\n    function scanNextNonTrivia() {\n        var result;\n        do {\n            result = scanNext();\n        } while (result >= 12 /* LineCommentTrivia */ && result <= 15 /* Trivia */);\n        return result;\n    }\n    return {\n        setPosition: setPosition,\n        getPosition: function () { return pos; },\n        scan: ignoreTrivia ? scanNextNonTrivia : scanNext,\n        getToken: function () { return token; },\n        getTokenValue: function () { return value; },\n        getTokenOffset: function () { return tokenOffset; },\n        getTokenLength: function () { return pos - tokenOffset; },\n        getTokenStartLine: function () { return lineStartOffset; },\n        getTokenStartCharacter: function () { return tokenOffset - prevTokenLineStartOffset; },\n        getTokenError: function () { return scanError; },\n    };\n}\nfunction isWhiteSpace(ch) {\n    return ch === 32 /* space */ || ch === 9 /* tab */ || ch === 11 /* verticalTab */ || ch === 12 /* formFeed */ ||\n        ch === 160 /* nonBreakingSpace */ || ch === 5760 /* ogham */ || ch >= 8192 /* enQuad */ && ch <= 8203 /* zeroWidthSpace */ ||\n        ch === 8239 /* narrowNoBreakSpace */ || ch === 8287 /* mathematicalSpace */ || ch === 12288 /* ideographicSpace */ || ch === 65279 /* byteOrderMark */;\n}\nfunction isLineBreak(ch) {\n    return ch === 10 /* lineFeed */ || ch === 13 /* carriageReturn */ || ch === 8232 /* lineSeparator */ || ch === 8233 /* paragraphSeparator */;\n}\nfunction isDigit(ch) {\n    return ch >= 48 /* _0 */ && ch <= 57 /* _9 */;\n}\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar ParseOptions;\n(function (ParseOptions) {\n    ParseOptions.DEFAULT = {\n        allowTrailingComma: false\n    };\n})(ParseOptions || (ParseOptions = {}));\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore always check the errors list to find out if the input was valid.\n */\nfunction parse(text, errors, options) {\n    if (errors === void 0) { errors = []; }\n    if (options === void 0) { options = ParseOptions.DEFAULT; }\n    var currentProperty = null;\n    var currentParent = [];\n    var previousParents = [];\n    function onValue(value) {\n        if (Array.isArray(currentParent)) {\n            currentParent.push(value);\n        }\n        else if (currentProperty !== null) {\n            currentParent[currentProperty] = value;\n        }\n    }\n    var visitor = {\n        onObjectBegin: function () {\n            var object = {};\n            onValue(object);\n            previousParents.push(currentParent);\n            currentParent = object;\n            currentProperty = null;\n        },\n        onObjectProperty: function (name) {\n            currentProperty = name;\n        },\n        onObjectEnd: function () {\n            currentParent = previousParents.pop();\n        },\n        onArrayBegin: function () {\n            var array = [];\n            onValue(array);\n            previousParents.push(currentParent);\n            currentParent = array;\n            currentProperty = null;\n        },\n        onArrayEnd: function () {\n            currentParent = previousParents.pop();\n        },\n        onLiteralValue: onValue,\n        onError: function (error, offset, length) {\n            errors.push({ error: error, offset: offset, length: length });\n        }\n    };\n    visit(text, visitor, options);\n    return currentParent[0];\n}\n/**\n * Evaluates the JavaScript object of the given JSON DOM node\n */\nfunction getNodeValue(node) {\n    switch (node.type) {\n        case 'array':\n            return node.children.map(getNodeValue);\n        case 'object':\n            var obj = Object.create(null);\n            for (var _i = 0, _a = node.children; _i < _a.length; _i++) {\n                var prop = _a[_i];\n                var valueNode = prop.children[1];\n                if (valueNode) {\n                    obj[prop.children[0].value] = getNodeValue(valueNode);\n                }\n            }\n            return obj;\n        case 'null':\n        case 'string':\n        case 'number':\n        case 'boolean':\n            return node.value;\n        default:\n            return undefined;\n    }\n}\n/**\n * Parses the given text and invokes the visitor functions for each object, array and literal reached.\n */\nfunction visit(text, visitor, options) {\n    if (options === void 0) { options = ParseOptions.DEFAULT; }\n    var _scanner = createScanner(text, false);\n    function toNoArgVisit(visitFunction) {\n        return visitFunction ? function () { return visitFunction(_scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()); } : function () { return true; };\n    }\n    function toOneArgVisit(visitFunction) {\n        return visitFunction ? function (arg) { return visitFunction(arg, _scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()); } : function () { return true; };\n    }\n    var onObjectBegin = toNoArgVisit(visitor.onObjectBegin), onObjectProperty = toOneArgVisit(visitor.onObjectProperty), onObjectEnd = toNoArgVisit(visitor.onObjectEnd), onArrayBegin = toNoArgVisit(visitor.onArrayBegin), onArrayEnd = toNoArgVisit(visitor.onArrayEnd), onLiteralValue = toOneArgVisit(visitor.onLiteralValue), onSeparator = toOneArgVisit(visitor.onSeparator), onComment = toNoArgVisit(visitor.onComment), onError = toOneArgVisit(visitor.onError);\n    var disallowComments = options && options.disallowComments;\n    var allowTrailingComma = options && options.allowTrailingComma;\n    function scanNext() {\n        while (true) {\n            var token = _scanner.scan();\n            switch (_scanner.getTokenError()) {\n                case 4 /* InvalidUnicode */:\n                    handleError(14 /* InvalidUnicode */);\n                    break;\n                case 5 /* InvalidEscapeCharacter */:\n                    handleError(15 /* InvalidEscapeCharacter */);\n                    break;\n                case 3 /* UnexpectedEndOfNumber */:\n                    handleError(13 /* UnexpectedEndOfNumber */);\n                    break;\n                case 1 /* UnexpectedEndOfComment */:\n                    if (!disallowComments) {\n                        handleError(11 /* UnexpectedEndOfComment */);\n                    }\n                    break;\n                case 2 /* UnexpectedEndOfString */:\n                    handleError(12 /* UnexpectedEndOfString */);\n                    break;\n                case 6 /* InvalidCharacter */:\n                    handleError(16 /* InvalidCharacter */);\n                    break;\n            }\n            switch (token) {\n                case 12 /* LineCommentTrivia */:\n                case 13 /* BlockCommentTrivia */:\n                    if (disallowComments) {\n                        handleError(10 /* InvalidCommentToken */);\n                    }\n                    else {\n                        onComment();\n                    }\n                    break;\n                case 16 /* Unknown */:\n                    handleError(1 /* InvalidSymbol */);\n                    break;\n                case 15 /* Trivia */:\n                case 14 /* LineBreakTrivia */:\n                    break;\n                default:\n                    return token;\n            }\n        }\n    }\n    function handleError(error, skipUntilAfter, skipUntil) {\n        if (skipUntilAfter === void 0) { skipUntilAfter = []; }\n        if (skipUntil === void 0) { skipUntil = []; }\n        onError(error);\n        if (skipUntilAfter.length + skipUntil.length > 0) {\n            var token = _scanner.getToken();\n            while (token !== 17 /* EOF */) {\n                if (skipUntilAfter.indexOf(token) !== -1) {\n                    scanNext();\n                    break;\n                }\n                else if (skipUntil.indexOf(token) !== -1) {\n                    break;\n                }\n                token = scanNext();\n            }\n        }\n    }\n    function parseString(isValue) {\n        var value = _scanner.getTokenValue();\n        if (isValue) {\n            onLiteralValue(value);\n        }\n        else {\n            onObjectProperty(value);\n        }\n        scanNext();\n        return true;\n    }\n    function parseLiteral() {\n        switch (_scanner.getToken()) {\n            case 11 /* NumericLiteral */:\n                var value = 0;\n                try {\n                    value = JSON.parse(_scanner.getTokenValue());\n                    if (typeof value !== 'number') {\n                        handleError(2 /* InvalidNumberFormat */);\n                        value = 0;\n                    }\n                }\n                catch (e) {\n                    handleError(2 /* InvalidNumberFormat */);\n                }\n                onLiteralValue(value);\n                break;\n            case 7 /* NullKeyword */:\n                onLiteralValue(null);\n                break;\n            case 8 /* TrueKeyword */:\n                onLiteralValue(true);\n                break;\n            case 9 /* FalseKeyword */:\n                onLiteralValue(false);\n                break;\n            default:\n                return false;\n        }\n        scanNext();\n        return true;\n    }\n    function parseProperty() {\n        if (_scanner.getToken() !== 10 /* StringLiteral */) {\n            handleError(3 /* PropertyNameExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            return false;\n        }\n        parseString(false);\n        if (_scanner.getToken() === 6 /* ColonToken */) {\n            onSeparator(':');\n            scanNext(); // consume colon\n            if (!parseValue()) {\n                handleError(4 /* ValueExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n        }\n        else {\n            handleError(5 /* ColonExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n        }\n        return true;\n    }\n    function parseObject() {\n        onObjectBegin();\n        scanNext(); // consume open brace\n        var needsComma = false;\n        while (_scanner.getToken() !== 2 /* CloseBraceToken */ && _scanner.getToken() !== 17 /* EOF */) {\n            if (_scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 2 /* CloseBraceToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* CommaExpected */, [], []);\n            }\n            if (!parseProperty()) {\n                handleError(4 /* ValueExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onObjectEnd();\n        if (_scanner.getToken() !== 2 /* CloseBraceToken */) {\n            handleError(7 /* CloseBraceExpected */, [2 /* CloseBraceToken */], []);\n        }\n        else {\n            scanNext(); // consume close brace\n        }\n        return true;\n    }\n    function parseArray() {\n        onArrayBegin();\n        scanNext(); // consume open bracket\n        var needsComma = false;\n        while (_scanner.getToken() !== 4 /* CloseBracketToken */ && _scanner.getToken() !== 17 /* EOF */) {\n            if (_scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 4 /* CloseBracketToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* CommaExpected */, [], []);\n            }\n            if (!parseValue()) {\n                handleError(4 /* ValueExpected */, [], [4 /* CloseBracketToken */, 5 /* CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onArrayEnd();\n        if (_scanner.getToken() !== 4 /* CloseBracketToken */) {\n            handleError(8 /* CloseBracketExpected */, [4 /* CloseBracketToken */], []);\n        }\n        else {\n            scanNext(); // consume close bracket\n        }\n        return true;\n    }\n    function parseValue() {\n        switch (_scanner.getToken()) {\n            case 3 /* OpenBracketToken */:\n                return parseArray();\n            case 1 /* OpenBraceToken */:\n                return parseObject();\n            case 10 /* StringLiteral */:\n                return parseString(true);\n            default:\n                return parseLiteral();\n        }\n    }\n    scanNext();\n    if (_scanner.getToken() === 17 /* EOF */) {\n        if (options.allowEmptyContent) {\n            return true;\n        }\n        handleError(4 /* ValueExpected */, [], []);\n        return false;\n    }\n    if (!parseValue()) {\n        handleError(4 /* ValueExpected */, [], []);\n        return false;\n    }\n    if (_scanner.getToken() !== 17 /* EOF */) {\n        handleError(9 /* EndOfFileExpected */, [], []);\n    }\n    return true;\n}\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * Creates a JSON scanner on the given text.\n * If ignoreTrivia is set, whitespaces or comments are ignored.\n */\nvar createScanner$1 = createScanner;\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore, always check the errors list to find out if the input was valid.\n */\nvar parse$1 = parse;\n/**\n * Evaluates the JavaScript object of the given JSON DOM node\n */\nvar getNodeValue$1 = getNodeValue;\n\n/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\nfunction isBoolean(val) {\n    return typeof val === 'boolean';\n}\n\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/**\r\n * The Position namespace provides helper functions to work with\r\n * [Position](#Position) literals.\r\n */\r\nvar Position;\r\n(function (Position) {\r\n    /**\r\n     * Creates a new Position literal from the given line and character.\r\n     * @param line The position's line.\r\n     * @param character The position's character.\r\n     */\r\n    function create(line, character) {\r\n        return { line: line, character: character };\r\n    }\r\n    Position.create = create;\r\n    /**\r\n     * Checks whether the given liternal conforms to the [Position](#Position) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Is.number(candidate.line) && Is.number(candidate.character);\r\n    }\r\n    Position.is = is;\r\n})(Position || (Position = {}));\r\n/**\r\n * The Range namespace provides helper functions to work with\r\n * [Range](#Range) literals.\r\n */\r\nvar Range;\r\n(function (Range) {\r\n    function create(one, two, three, four) {\r\n        if (Is.number(one) && Is.number(two) && Is.number(three) && Is.number(four)) {\r\n            return { start: Position.create(one, two), end: Position.create(three, four) };\r\n        }\r\n        else if (Position.is(one) && Position.is(two)) {\r\n            return { start: one, end: two };\r\n        }\r\n        else {\r\n            throw new Error(\"Range#create called with invalid arguments[\" + one + \", \" + two + \", \" + three + \", \" + four + \"]\");\r\n        }\r\n    }\r\n    Range.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\r\n    }\r\n    Range.is = is;\r\n})(Range || (Range = {}));\r\n/**\r\n * The Location namespace provides helper functions to work with\r\n * [Location](#Location) literals.\r\n */\r\nvar Location;\r\n(function (Location) {\r\n    /**\r\n     * Creates a Location literal.\r\n     * @param uri The location's uri.\r\n     * @param range The location's range.\r\n     */\r\n    function create(uri, range) {\r\n        return { uri: uri, range: range };\r\n    }\r\n    Location.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\r\n    }\r\n    Location.is = is;\r\n})(Location || (Location = {}));\r\n/**\r\n * The LocationLink namespace provides helper functions to work with\r\n * [LocationLink](#LocationLink) literals.\r\n */\r\nvar LocationLink;\r\n(function (LocationLink) {\r\n    /**\r\n     * Creates a LocationLink literal.\r\n     * @param targetUri The definition's uri.\r\n     * @param targetRange The full range of the definition.\r\n     * @param targetSelectionRange The span of the symbol definition at the target.\r\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\r\n     */\r\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\r\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\r\n    }\r\n    LocationLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\r\n            && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange))\r\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\r\n    }\r\n    LocationLink.is = is;\r\n})(LocationLink || (LocationLink = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [Color](#Color) literals.\r\n */\r\nvar Color;\r\n(function (Color) {\r\n    /**\r\n     * Creates a new Color literal.\r\n     */\r\n    function create(red, green, blue, alpha) {\r\n        return {\r\n            red: red,\r\n            green: green,\r\n            blue: blue,\r\n            alpha: alpha,\r\n        };\r\n    }\r\n    Color.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.red)\r\n            && Is.number(candidate.green)\r\n            && Is.number(candidate.blue)\r\n            && Is.number(candidate.alpha);\r\n    }\r\n    Color.is = is;\r\n})(Color || (Color = {}));\r\n/**\r\n * The ColorInformation namespace provides helper functions to work with\r\n * [ColorInformation](#ColorInformation) literals.\r\n */\r\nvar ColorInformation;\r\n(function (ColorInformation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(range, color) {\r\n        return {\r\n            range: range,\r\n            color: color,\r\n        };\r\n    }\r\n    ColorInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Range.is(candidate.range) && Color.is(candidate.color);\r\n    }\r\n    ColorInformation.is = is;\r\n})(ColorInformation || (ColorInformation = {}));\r\n/**\r\n * The Color namespace provides helper functions to work with\r\n * [ColorPresentation](#ColorPresentation) literals.\r\n */\r\nvar ColorPresentation;\r\n(function (ColorPresentation) {\r\n    /**\r\n     * Creates a new ColorInformation literal.\r\n     */\r\n    function create(label, textEdit, additionalTextEdits) {\r\n        return {\r\n            label: label,\r\n            textEdit: textEdit,\r\n            additionalTextEdits: additionalTextEdits,\r\n        };\r\n    }\r\n    ColorPresentation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate.label)\r\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\r\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\r\n    }\r\n    ColorPresentation.is = is;\r\n})(ColorPresentation || (ColorPresentation = {}));\r\n/**\r\n * Enum of known range kinds\r\n */\r\nvar FoldingRangeKind;\r\n(function (FoldingRangeKind) {\r\n    /**\r\n     * Folding range for a comment\r\n     */\r\n    FoldingRangeKind[\"Comment\"] = \"comment\";\r\n    /**\r\n     * Folding range for a imports or includes\r\n     */\r\n    FoldingRangeKind[\"Imports\"] = \"imports\";\r\n    /**\r\n     * Folding range for a region (e.g. `#region`)\r\n     */\r\n    FoldingRangeKind[\"Region\"] = \"region\";\r\n})(FoldingRangeKind || (FoldingRangeKind = {}));\r\n/**\r\n * The folding range namespace provides helper functions to work with\r\n * [FoldingRange](#FoldingRange) literals.\r\n */\r\nvar FoldingRange;\r\n(function (FoldingRange) {\r\n    /**\r\n     * Creates a new FoldingRange literal.\r\n     */\r\n    function create(startLine, endLine, startCharacter, endCharacter, kind) {\r\n        var result = {\r\n            startLine: startLine,\r\n            endLine: endLine\r\n        };\r\n        if (Is.defined(startCharacter)) {\r\n            result.startCharacter = startCharacter;\r\n        }\r\n        if (Is.defined(endCharacter)) {\r\n            result.endCharacter = endCharacter;\r\n        }\r\n        if (Is.defined(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    FoldingRange.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.number(candidate.startLine) && Is.number(candidate.startLine)\r\n            && (Is.undefined(candidate.startCharacter) || Is.number(candidate.startCharacter))\r\n            && (Is.undefined(candidate.endCharacter) || Is.number(candidate.endCharacter))\r\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\r\n    }\r\n    FoldingRange.is = is;\r\n})(FoldingRange || (FoldingRange = {}));\r\n/**\r\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\r\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\r\n */\r\nvar DiagnosticRelatedInformation;\r\n(function (DiagnosticRelatedInformation) {\r\n    /**\r\n     * Creates a new DiagnosticRelatedInformation literal.\r\n     */\r\n    function create(location, message) {\r\n        return {\r\n            location: location,\r\n            message: message\r\n        };\r\n    }\r\n    DiagnosticRelatedInformation.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\r\n    }\r\n    DiagnosticRelatedInformation.is = is;\r\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\r\n/**\r\n * The diagnostic's severity.\r\n */\r\nvar DiagnosticSeverity;\r\n(function (DiagnosticSeverity) {\r\n    /**\r\n     * Reports an error.\r\n     */\r\n    DiagnosticSeverity.Error = 1;\r\n    /**\r\n     * Reports a warning.\r\n     */\r\n    DiagnosticSeverity.Warning = 2;\r\n    /**\r\n     * Reports an information.\r\n     */\r\n    DiagnosticSeverity.Information = 3;\r\n    /**\r\n     * Reports a hint.\r\n     */\r\n    DiagnosticSeverity.Hint = 4;\r\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\r\n/**\r\n * The diagnostic tags.\r\n *\r\n * @since 3.15.0\r\n */\r\nvar DiagnosticTag;\r\n(function (DiagnosticTag) {\r\n    /**\r\n     * Unused or unnecessary code.\r\n     *\r\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\r\n     * an error squiggle.\r\n     */\r\n    DiagnosticTag.Unnecessary = 1;\r\n    /**\r\n     * Deprecated or obsolete code.\r\n     *\r\n     * Clients are allowed to rendered diagnostics with this tag strike through.\r\n     */\r\n    DiagnosticTag.Deprecated = 2;\r\n})(DiagnosticTag || (DiagnosticTag = {}));\r\n/**\r\n * The Diagnostic namespace provides helper functions to work with\r\n * [Diagnostic](#Diagnostic) literals.\r\n */\r\nvar Diagnostic;\r\n(function (Diagnostic) {\r\n    /**\r\n     * Creates a new Diagnostic literal.\r\n     */\r\n    function create(range, message, severity, code, source, relatedInformation) {\r\n        var result = { range: range, message: message };\r\n        if (Is.defined(severity)) {\r\n            result.severity = severity;\r\n        }\r\n        if (Is.defined(code)) {\r\n            result.code = code;\r\n        }\r\n        if (Is.defined(source)) {\r\n            result.source = source;\r\n        }\r\n        if (Is.defined(relatedInformation)) {\r\n            result.relatedInformation = relatedInformation;\r\n        }\r\n        return result;\r\n    }\r\n    Diagnostic.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && Range.is(candidate.range)\r\n            && Is.string(candidate.message)\r\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\r\n            && (Is.number(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\r\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\r\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\r\n    }\r\n    Diagnostic.is = is;\r\n})(Diagnostic || (Diagnostic = {}));\r\n/**\r\n * The Command namespace provides helper functions to work with\r\n * [Command](#Command) literals.\r\n */\r\nvar Command;\r\n(function (Command) {\r\n    /**\r\n     * Creates a new Command literal.\r\n     */\r\n    function create(title, command) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { title: title, command: command };\r\n        if (Is.defined(args) && args.length > 0) {\r\n            result.arguments = args;\r\n        }\r\n        return result;\r\n    }\r\n    Command.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\r\n    }\r\n    Command.is = is;\r\n})(Command || (Command = {}));\r\n/**\r\n * The TextEdit namespace provides helper function to create replace,\r\n * insert and delete edits more easily.\r\n */\r\nvar TextEdit;\r\n(function (TextEdit) {\r\n    /**\r\n     * Creates a replace text edit.\r\n     * @param range The range of text to be replaced.\r\n     * @param newText The new text.\r\n     */\r\n    function replace(range, newText) {\r\n        return { range: range, newText: newText };\r\n    }\r\n    TextEdit.replace = replace;\r\n    /**\r\n     * Creates a insert text edit.\r\n     * @param position The position to insert the text at.\r\n     * @param newText The text to be inserted.\r\n     */\r\n    function insert(position, newText) {\r\n        return { range: { start: position, end: position }, newText: newText };\r\n    }\r\n    TextEdit.insert = insert;\r\n    /**\r\n     * Creates a delete text edit.\r\n     * @param range The range of text to be deleted.\r\n     */\r\n    function del(range) {\r\n        return { range: range, newText: '' };\r\n    }\r\n    TextEdit.del = del;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(candidate)\r\n            && Is.string(candidate.newText)\r\n            && Range.is(candidate.range);\r\n    }\r\n    TextEdit.is = is;\r\n})(TextEdit || (TextEdit = {}));\r\n/**\r\n * The TextDocumentEdit namespace provides helper function to create\r\n * an edit that manipulates a text document.\r\n */\r\nvar TextDocumentEdit;\r\n(function (TextDocumentEdit) {\r\n    /**\r\n     * Creates a new `TextDocumentEdit`\r\n     */\r\n    function create(textDocument, edits) {\r\n        return { textDocument: textDocument, edits: edits };\r\n    }\r\n    TextDocumentEdit.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate)\r\n            && VersionedTextDocumentIdentifier.is(candidate.textDocument)\r\n            && Array.isArray(candidate.edits);\r\n    }\r\n    TextDocumentEdit.is = is;\r\n})(TextDocumentEdit || (TextDocumentEdit = {}));\r\nvar CreateFile;\r\n(function (CreateFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'create',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    CreateFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    CreateFile.is = is;\r\n})(CreateFile || (CreateFile = {}));\r\nvar RenameFile;\r\n(function (RenameFile) {\r\n    function create(oldUri, newUri, options) {\r\n        var result = {\r\n            kind: 'rename',\r\n            oldUri: oldUri,\r\n            newUri: newUri\r\n        };\r\n        if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    RenameFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))));\r\n    }\r\n    RenameFile.is = is;\r\n})(RenameFile || (RenameFile = {}));\r\nvar DeleteFile;\r\n(function (DeleteFile) {\r\n    function create(uri, options) {\r\n        var result = {\r\n            kind: 'delete',\r\n            uri: uri\r\n        };\r\n        if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {\r\n            result.options = options;\r\n        }\r\n        return result;\r\n    }\r\n    DeleteFile.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) &&\r\n            (candidate.options === void 0 ||\r\n                ((candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))));\r\n    }\r\n    DeleteFile.is = is;\r\n})(DeleteFile || (DeleteFile = {}));\r\nvar WorkspaceEdit;\r\n(function (WorkspaceEdit) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            (candidate.changes !== void 0 || candidate.documentChanges !== void 0) &&\r\n            (candidate.documentChanges === void 0 || candidate.documentChanges.every(function (change) {\r\n                if (Is.string(change.kind)) {\r\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\r\n                }\r\n                else {\r\n                    return TextDocumentEdit.is(change);\r\n                }\r\n            }));\r\n    }\r\n    WorkspaceEdit.is = is;\r\n})(WorkspaceEdit || (WorkspaceEdit = {}));\r\nvar TextEditChangeImpl = /** @class */ (function () {\r\n    function TextEditChangeImpl(edits) {\r\n        this.edits = edits;\r\n    }\r\n    TextEditChangeImpl.prototype.insert = function (position, newText) {\r\n        this.edits.push(TextEdit.insert(position, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.replace = function (range, newText) {\r\n        this.edits.push(TextEdit.replace(range, newText));\r\n    };\r\n    TextEditChangeImpl.prototype.delete = function (range) {\r\n        this.edits.push(TextEdit.del(range));\r\n    };\r\n    TextEditChangeImpl.prototype.add = function (edit) {\r\n        this.edits.push(edit);\r\n    };\r\n    TextEditChangeImpl.prototype.all = function () {\r\n        return this.edits;\r\n    };\r\n    TextEditChangeImpl.prototype.clear = function () {\r\n        this.edits.splice(0, this.edits.length);\r\n    };\r\n    return TextEditChangeImpl;\r\n}());\r\n/**\r\n * A workspace change helps constructing changes to a workspace.\r\n */\r\nvar WorkspaceChange = /** @class */ (function () {\r\n    function WorkspaceChange(workspaceEdit) {\r\n        var _this = this;\r\n        this._textEditChanges = Object.create(null);\r\n        if (workspaceEdit) {\r\n            this._workspaceEdit = workspaceEdit;\r\n            if (workspaceEdit.documentChanges) {\r\n                workspaceEdit.documentChanges.forEach(function (change) {\r\n                    if (TextDocumentEdit.is(change)) {\r\n                        var textEditChange = new TextEditChangeImpl(change.edits);\r\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\r\n                    }\r\n                });\r\n            }\r\n            else if (workspaceEdit.changes) {\r\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\r\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\r\n                    _this._textEditChanges[key] = textEditChange;\r\n                });\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\r\n        /**\r\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\r\n         * use to be returned from a workspace edit operation like rename.\r\n         */\r\n        get: function () {\r\n            return this._workspaceEdit;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\r\n        if (VersionedTextDocumentIdentifier.is(key)) {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    documentChanges: []\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.documentChanges) {\r\n                throw new Error('Workspace edit is not configured for document changes.');\r\n            }\r\n            var textDocument = key;\r\n            var result = this._textEditChanges[textDocument.uri];\r\n            if (!result) {\r\n                var edits = [];\r\n                var textDocumentEdit = {\r\n                    textDocument: textDocument,\r\n                    edits: edits\r\n                };\r\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[textDocument.uri] = result;\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            if (!this._workspaceEdit) {\r\n                this._workspaceEdit = {\r\n                    changes: Object.create(null)\r\n                };\r\n            }\r\n            if (!this._workspaceEdit.changes) {\r\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\r\n            }\r\n            var result = this._textEditChanges[key];\r\n            if (!result) {\r\n                var edits = [];\r\n                this._workspaceEdit.changes[key] = edits;\r\n                result = new TextEditChangeImpl(edits);\r\n                this._textEditChanges[key] = result;\r\n            }\r\n            return result;\r\n        }\r\n    };\r\n    WorkspaceChange.prototype.createFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(CreateFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(RenameFile.create(oldUri, newUri, options));\r\n    };\r\n    WorkspaceChange.prototype.deleteFile = function (uri, options) {\r\n        this.checkDocumentChanges();\r\n        this._workspaceEdit.documentChanges.push(DeleteFile.create(uri, options));\r\n    };\r\n    WorkspaceChange.prototype.checkDocumentChanges = function () {\r\n        if (!this._workspaceEdit || !this._workspaceEdit.documentChanges) {\r\n            throw new Error('Workspace edit is not configured for document changes.');\r\n        }\r\n    };\r\n    return WorkspaceChange;\r\n}());\r\n/**\r\n * The TextDocumentIdentifier namespace provides helper functions to work with\r\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\r\n */\r\nvar TextDocumentIdentifier;\r\n(function (TextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new TextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     */\r\n    function create(uri) {\r\n        return { uri: uri };\r\n    }\r\n    TextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri);\r\n    }\r\n    TextDocumentIdentifier.is = is;\r\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\r\n/**\r\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\r\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\r\n */\r\nvar VersionedTextDocumentIdentifier;\r\n(function (VersionedTextDocumentIdentifier) {\r\n    /**\r\n     * Creates a new VersionedTextDocumentIdentifier literal.\r\n     * @param uri The document's uri.\r\n     * @param uri The document's text.\r\n     */\r\n    function create(uri, version) {\r\n        return { uri: uri, version: version };\r\n    }\r\n    VersionedTextDocumentIdentifier.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.number(candidate.version));\r\n    }\r\n    VersionedTextDocumentIdentifier.is = is;\r\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\r\n/**\r\n * The TextDocumentItem namespace provides helper functions to work with\r\n * [TextDocumentItem](#TextDocumentItem) literals.\r\n */\r\nvar TextDocumentItem;\r\n(function (TextDocumentItem) {\r\n    /**\r\n     * Creates a new TextDocumentItem literal.\r\n     * @param uri The document's uri.\r\n     * @param languageId The document's language identifier.\r\n     * @param version The document's version number.\r\n     * @param text The document's text.\r\n     */\r\n    function create(uri, languageId, version, text) {\r\n        return { uri: uri, languageId: languageId, version: version, text: text };\r\n    }\r\n    TextDocumentItem.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.number(candidate.version) && Is.string(candidate.text);\r\n    }\r\n    TextDocumentItem.is = is;\r\n})(TextDocumentItem || (TextDocumentItem = {}));\r\n/**\r\n * Describes the content type that a client supports in various\r\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\r\n *\r\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\r\n * are reserved for internal usage.\r\n */\r\nvar MarkupKind;\r\n(function (MarkupKind) {\r\n    /**\r\n     * Plain text is supported as a content format\r\n     */\r\n    MarkupKind.PlainText = 'plaintext';\r\n    /**\r\n     * Markdown is supported as a content format\r\n     */\r\n    MarkupKind.Markdown = 'markdown';\r\n})(MarkupKind || (MarkupKind = {}));\r\n(function (MarkupKind) {\r\n    /**\r\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\r\n    }\r\n    MarkupKind.is = is;\r\n})(MarkupKind || (MarkupKind = {}));\r\nvar MarkupContent;\r\n(function (MarkupContent) {\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\r\n    }\r\n    MarkupContent.is = is;\r\n})(MarkupContent || (MarkupContent = {}));\r\n/**\r\n * The kind of a completion entry.\r\n */\r\nvar CompletionItemKind;\r\n(function (CompletionItemKind) {\r\n    CompletionItemKind.Text = 1;\r\n    CompletionItemKind.Method = 2;\r\n    CompletionItemKind.Function = 3;\r\n    CompletionItemKind.Constructor = 4;\r\n    CompletionItemKind.Field = 5;\r\n    CompletionItemKind.Variable = 6;\r\n    CompletionItemKind.Class = 7;\r\n    CompletionItemKind.Interface = 8;\r\n    CompletionItemKind.Module = 9;\r\n    CompletionItemKind.Property = 10;\r\n    CompletionItemKind.Unit = 11;\r\n    CompletionItemKind.Value = 12;\r\n    CompletionItemKind.Enum = 13;\r\n    CompletionItemKind.Keyword = 14;\r\n    CompletionItemKind.Snippet = 15;\r\n    CompletionItemKind.Color = 16;\r\n    CompletionItemKind.File = 17;\r\n    CompletionItemKind.Reference = 18;\r\n    CompletionItemKind.Folder = 19;\r\n    CompletionItemKind.EnumMember = 20;\r\n    CompletionItemKind.Constant = 21;\r\n    CompletionItemKind.Struct = 22;\r\n    CompletionItemKind.Event = 23;\r\n    CompletionItemKind.Operator = 24;\r\n    CompletionItemKind.TypeParameter = 25;\r\n})(CompletionItemKind || (CompletionItemKind = {}));\r\n/**\r\n * Defines whether the insert text in a completion item should be interpreted as\r\n * plain text or a snippet.\r\n */\r\nvar InsertTextFormat;\r\n(function (InsertTextFormat) {\r\n    /**\r\n     * The primary text to be inserted is treated as a plain string.\r\n     */\r\n    InsertTextFormat.PlainText = 1;\r\n    /**\r\n     * The primary text to be inserted is treated as a snippet.\r\n     *\r\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\r\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\r\n     * the end of the snippet. Placeholders with equal identifiers are linked,\r\n     * that is typing in one will update others too.\r\n     *\r\n     * See also: https://github.com/Microsoft/vscode/blob/master/src/vs/editor/contrib/snippet/common/snippet.md\r\n     */\r\n    InsertTextFormat.Snippet = 2;\r\n})(InsertTextFormat || (InsertTextFormat = {}));\r\n/**\r\n * Completion item tags are extra annotations that tweak the rendering of a completion\r\n * item.\r\n *\r\n * @since 3.15.0\r\n */\r\nvar CompletionItemTag;\r\n(function (CompletionItemTag) {\r\n    /**\r\n     * Render a completion as obsolete, usually using a strike-out.\r\n     */\r\n    CompletionItemTag.Deprecated = 1;\r\n})(CompletionItemTag || (CompletionItemTag = {}));\r\n/**\r\n * The CompletionItem namespace provides functions to deal with\r\n * completion items.\r\n */\r\nvar CompletionItem;\r\n(function (CompletionItem) {\r\n    /**\r\n     * Create a completion item and seed it with a label.\r\n     * @param label The completion item's label\r\n     */\r\n    function create(label) {\r\n        return { label: label };\r\n    }\r\n    CompletionItem.create = create;\r\n})(CompletionItem || (CompletionItem = {}));\r\n/**\r\n * The CompletionList namespace provides functions to deal with\r\n * completion lists.\r\n */\r\nvar CompletionList;\r\n(function (CompletionList) {\r\n    /**\r\n     * Creates a new completion list.\r\n     *\r\n     * @param items The completion items.\r\n     * @param isIncomplete The list is not complete.\r\n     */\r\n    function create(items, isIncomplete) {\r\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\r\n    }\r\n    CompletionList.create = create;\r\n})(CompletionList || (CompletionList = {}));\r\nvar MarkedString;\r\n(function (MarkedString) {\r\n    /**\r\n     * Creates a marked string from plain text.\r\n     *\r\n     * @param plainText The plain text.\r\n     */\r\n    function fromPlainText(plainText) {\r\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\r\n    }\r\n    MarkedString.fromPlainText = fromPlainText;\r\n    /**\r\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\r\n    }\r\n    MarkedString.is = is;\r\n})(MarkedString || (MarkedString = {}));\r\nvar Hover;\r\n(function (Hover) {\r\n    /**\r\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\r\n            MarkedString.is(candidate.contents) ||\r\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));\r\n    }\r\n    Hover.is = is;\r\n})(Hover || (Hover = {}));\r\n/**\r\n * The ParameterInformation namespace provides helper functions to work with\r\n * [ParameterInformation](#ParameterInformation) literals.\r\n */\r\nvar ParameterInformation;\r\n(function (ParameterInformation) {\r\n    /**\r\n     * Creates a new parameter information literal.\r\n     *\r\n     * @param label A label string.\r\n     * @param documentation A doc string.\r\n     */\r\n    function create(label, documentation) {\r\n        return documentation ? { label: label, documentation: documentation } : { label: label };\r\n    }\r\n    ParameterInformation.create = create;\r\n})(ParameterInformation || (ParameterInformation = {}));\r\n/**\r\n * The SignatureInformation namespace provides helper functions to work with\r\n * [SignatureInformation](#SignatureInformation) literals.\r\n */\r\nvar SignatureInformation;\r\n(function (SignatureInformation) {\r\n    function create(label, documentation) {\r\n        var parameters = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            parameters[_i - 2] = arguments[_i];\r\n        }\r\n        var result = { label: label };\r\n        if (Is.defined(documentation)) {\r\n            result.documentation = documentation;\r\n        }\r\n        if (Is.defined(parameters)) {\r\n            result.parameters = parameters;\r\n        }\r\n        else {\r\n            result.parameters = [];\r\n        }\r\n        return result;\r\n    }\r\n    SignatureInformation.create = create;\r\n})(SignatureInformation || (SignatureInformation = {}));\r\n/**\r\n * A document highlight kind.\r\n */\r\nvar DocumentHighlightKind;\r\n(function (DocumentHighlightKind) {\r\n    /**\r\n     * A textual occurrence.\r\n     */\r\n    DocumentHighlightKind.Text = 1;\r\n    /**\r\n     * Read-access of a symbol, like reading a variable.\r\n     */\r\n    DocumentHighlightKind.Read = 2;\r\n    /**\r\n     * Write-access of a symbol, like writing to a variable.\r\n     */\r\n    DocumentHighlightKind.Write = 3;\r\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\r\n/**\r\n * DocumentHighlight namespace to provide helper functions to work with\r\n * [DocumentHighlight](#DocumentHighlight) literals.\r\n */\r\nvar DocumentHighlight;\r\n(function (DocumentHighlight) {\r\n    /**\r\n     * Create a DocumentHighlight object.\r\n     * @param range The range the highlight applies to.\r\n     */\r\n    function create(range, kind) {\r\n        var result = { range: range };\r\n        if (Is.number(kind)) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentHighlight.create = create;\r\n})(DocumentHighlight || (DocumentHighlight = {}));\r\n/**\r\n * A symbol kind.\r\n */\r\nvar SymbolKind;\r\n(function (SymbolKind) {\r\n    SymbolKind.File = 1;\r\n    SymbolKind.Module = 2;\r\n    SymbolKind.Namespace = 3;\r\n    SymbolKind.Package = 4;\r\n    SymbolKind.Class = 5;\r\n    SymbolKind.Method = 6;\r\n    SymbolKind.Property = 7;\r\n    SymbolKind.Field = 8;\r\n    SymbolKind.Constructor = 9;\r\n    SymbolKind.Enum = 10;\r\n    SymbolKind.Interface = 11;\r\n    SymbolKind.Function = 12;\r\n    SymbolKind.Variable = 13;\r\n    SymbolKind.Constant = 14;\r\n    SymbolKind.String = 15;\r\n    SymbolKind.Number = 16;\r\n    SymbolKind.Boolean = 17;\r\n    SymbolKind.Array = 18;\r\n    SymbolKind.Object = 19;\r\n    SymbolKind.Key = 20;\r\n    SymbolKind.Null = 21;\r\n    SymbolKind.EnumMember = 22;\r\n    SymbolKind.Struct = 23;\r\n    SymbolKind.Event = 24;\r\n    SymbolKind.Operator = 25;\r\n    SymbolKind.TypeParameter = 26;\r\n})(SymbolKind || (SymbolKind = {}));\r\n/**\r\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\r\n * @since 3.15\r\n */\r\nvar SymbolTag;\r\n(function (SymbolTag) {\r\n    /**\r\n     * Render a symbol as obsolete, usually using a strike-out.\r\n     */\r\n    SymbolTag.Deprecated = 1;\r\n})(SymbolTag || (SymbolTag = {}));\r\nvar SymbolInformation;\r\n(function (SymbolInformation) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the location of the symbol.\r\n     * @param uri The resource of the location of symbol, defaults to the current document.\r\n     * @param containerName The name of the symbol containing the symbol.\r\n     */\r\n    function create(name, kind, range, uri, containerName) {\r\n        var result = {\r\n            name: name,\r\n            kind: kind,\r\n            location: { uri: uri, range: range }\r\n        };\r\n        if (containerName) {\r\n            result.containerName = containerName;\r\n        }\r\n        return result;\r\n    }\r\n    SymbolInformation.create = create;\r\n})(SymbolInformation || (SymbolInformation = {}));\r\nvar DocumentSymbol;\r\n(function (DocumentSymbol) {\r\n    /**\r\n     * Creates a new symbol information literal.\r\n     *\r\n     * @param name The name of the symbol.\r\n     * @param detail The detail of the symbol.\r\n     * @param kind The kind of the symbol.\r\n     * @param range The range of the symbol.\r\n     * @param selectionRange The selectionRange of the symbol.\r\n     * @param children Children of the symbol.\r\n     */\r\n    function create(name, detail, kind, range, selectionRange, children) {\r\n        var result = {\r\n            name: name,\r\n            detail: detail,\r\n            kind: kind,\r\n            range: range,\r\n            selectionRange: selectionRange\r\n        };\r\n        if (children !== void 0) {\r\n            result.children = children;\r\n        }\r\n        return result;\r\n    }\r\n    DocumentSymbol.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate &&\r\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\r\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\r\n            (candidate.detail === void 0 || Is.string(candidate.detail)) &&\r\n            (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) &&\r\n            (candidate.children === void 0 || Array.isArray(candidate.children));\r\n    }\r\n    DocumentSymbol.is = is;\r\n})(DocumentSymbol || (DocumentSymbol = {}));\r\n/**\r\n * A set of predefined code action kinds\r\n */\r\nvar CodeActionKind;\r\n(function (CodeActionKind) {\r\n    /**\r\n     * Empty kind.\r\n     */\r\n    CodeActionKind.Empty = '';\r\n    /**\r\n     * Base kind for quickfix actions: 'quickfix'\r\n     */\r\n    CodeActionKind.QuickFix = 'quickfix';\r\n    /**\r\n     * Base kind for refactoring actions: 'refactor'\r\n     */\r\n    CodeActionKind.Refactor = 'refactor';\r\n    /**\r\n     * Base kind for refactoring extraction actions: 'refactor.extract'\r\n     *\r\n     * Example extract actions:\r\n     *\r\n     * - Extract method\r\n     * - Extract function\r\n     * - Extract variable\r\n     * - Extract interface from class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorExtract = 'refactor.extract';\r\n    /**\r\n     * Base kind for refactoring inline actions: 'refactor.inline'\r\n     *\r\n     * Example inline actions:\r\n     *\r\n     * - Inline function\r\n     * - Inline variable\r\n     * - Inline constant\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorInline = 'refactor.inline';\r\n    /**\r\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\r\n     *\r\n     * Example rewrite actions:\r\n     *\r\n     * - Convert JavaScript function to class\r\n     * - Add or remove parameter\r\n     * - Encapsulate field\r\n     * - Make method static\r\n     * - Move method to base class\r\n     * - ...\r\n     */\r\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\r\n    /**\r\n     * Base kind for source actions: `source`\r\n     *\r\n     * Source code actions apply to the entire file.\r\n     */\r\n    CodeActionKind.Source = 'source';\r\n    /**\r\n     * Base kind for an organize imports source action: `source.organizeImports`\r\n     */\r\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\r\n    /**\r\n     * Base kind for auto-fix source actions: `source.fixAll`.\r\n     *\r\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\r\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\r\n     *\r\n     * @since 3.15.0\r\n     */\r\n    CodeActionKind.SourceFixAll = 'source.fixAll';\r\n})(CodeActionKind || (CodeActionKind = {}));\r\n/**\r\n * The CodeActionContext namespace provides helper functions to work with\r\n * [CodeActionContext](#CodeActionContext) literals.\r\n */\r\nvar CodeActionContext;\r\n(function (CodeActionContext) {\r\n    /**\r\n     * Creates a new CodeActionContext literal.\r\n     */\r\n    function create(diagnostics, only) {\r\n        var result = { diagnostics: diagnostics };\r\n        if (only !== void 0 && only !== null) {\r\n            result.only = only;\r\n        }\r\n        return result;\r\n    }\r\n    CodeActionContext.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));\r\n    }\r\n    CodeActionContext.is = is;\r\n})(CodeActionContext || (CodeActionContext = {}));\r\nvar CodeAction;\r\n(function (CodeAction) {\r\n    function create(title, commandOrEdit, kind) {\r\n        var result = { title: title };\r\n        if (Command.is(commandOrEdit)) {\r\n            result.command = commandOrEdit;\r\n        }\r\n        else {\r\n            result.edit = commandOrEdit;\r\n        }\r\n        if (kind !== void 0) {\r\n            result.kind = kind;\r\n        }\r\n        return result;\r\n    }\r\n    CodeAction.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && Is.string(candidate.title) &&\r\n            (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\r\n            (candidate.kind === void 0 || Is.string(candidate.kind)) &&\r\n            (candidate.edit !== void 0 || candidate.command !== void 0) &&\r\n            (candidate.command === void 0 || Command.is(candidate.command)) &&\r\n            (candidate.isPreferred === void 0 || Is.boolean(candidate.isPreferred)) &&\r\n            (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));\r\n    }\r\n    CodeAction.is = is;\r\n})(CodeAction || (CodeAction = {}));\r\n/**\r\n * The CodeLens namespace provides helper functions to work with\r\n * [CodeLens](#CodeLens) literals.\r\n */\r\nvar CodeLens;\r\n(function (CodeLens) {\r\n    /**\r\n     * Creates a new CodeLens literal.\r\n     */\r\n    function create(range, data) {\r\n        var result = { range: range };\r\n        if (Is.defined(data)) {\r\n            result.data = data;\r\n        }\r\n        return result;\r\n    }\r\n    CodeLens.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\r\n    }\r\n    CodeLens.is = is;\r\n})(CodeLens || (CodeLens = {}));\r\n/**\r\n * The FormattingOptions namespace provides helper functions to work with\r\n * [FormattingOptions](#FormattingOptions) literals.\r\n */\r\nvar FormattingOptions;\r\n(function (FormattingOptions) {\r\n    /**\r\n     * Creates a new FormattingOptions literal.\r\n     */\r\n    function create(tabSize, insertSpaces) {\r\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\r\n    }\r\n    FormattingOptions.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.number(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\r\n    }\r\n    FormattingOptions.is = is;\r\n})(FormattingOptions || (FormattingOptions = {}));\r\n/**\r\n * The DocumentLink namespace provides helper functions to work with\r\n * [DocumentLink](#DocumentLink) literals.\r\n */\r\nvar DocumentLink;\r\n(function (DocumentLink) {\r\n    /**\r\n     * Creates a new DocumentLink literal.\r\n     */\r\n    function create(range, target, data) {\r\n        return { range: range, target: target, data: data };\r\n    }\r\n    DocumentLink.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\r\n    }\r\n    DocumentLink.is = is;\r\n})(DocumentLink || (DocumentLink = {}));\r\n/**\r\n * The SelectionRange namespace provides helper function to work with\r\n * SelectionRange literals.\r\n */\r\nvar SelectionRange;\r\n(function (SelectionRange) {\r\n    /**\r\n     * Creates a new SelectionRange\r\n     * @param range the range.\r\n     * @param parent an optional parent.\r\n     */\r\n    function create(range, parent) {\r\n        return { range: range, parent: parent };\r\n    }\r\n    SelectionRange.create = create;\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate !== undefined && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\r\n    }\r\n    SelectionRange.is = is;\r\n})(SelectionRange || (SelectionRange = {}));\r\n/**\r\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\r\n */\r\nvar TextDocument;\r\n(function (TextDocument) {\r\n    /**\r\n     * Creates a new ITextDocument literal from the given uri and content.\r\n     * @param uri The document's uri.\r\n     * @param languageId  The document's language Id.\r\n     * @param content The document's content.\r\n     */\r\n    function create(uri, languageId, version, content) {\r\n        return new FullTextDocument(uri, languageId, version, content);\r\n    }\r\n    TextDocument.create = create;\r\n    /**\r\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\r\n     */\r\n    function is(value) {\r\n        var candidate = value;\r\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.number(candidate.lineCount)\r\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\r\n    }\r\n    TextDocument.is = is;\r\n    function applyEdits(document, edits) {\r\n        var text = document.getText();\r\n        var sortedEdits = mergeSort(edits, function (a, b) {\r\n            var diff = a.range.start.line - b.range.start.line;\r\n            if (diff === 0) {\r\n                return a.range.start.character - b.range.start.character;\r\n            }\r\n            return diff;\r\n        });\r\n        var lastModifiedOffset = text.length;\r\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\r\n            var e = sortedEdits[i];\r\n            var startOffset = document.offsetAt(e.range.start);\r\n            var endOffset = document.offsetAt(e.range.end);\r\n            if (endOffset <= lastModifiedOffset) {\r\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n            }\r\n            else {\r\n                throw new Error('Overlapping edit');\r\n            }\r\n            lastModifiedOffset = startOffset;\r\n        }\r\n        return text;\r\n    }\r\n    TextDocument.applyEdits = applyEdits;\r\n    function mergeSort(data, compare) {\r\n        if (data.length <= 1) {\r\n            // sorted\r\n            return data;\r\n        }\r\n        var p = (data.length / 2) | 0;\r\n        var left = data.slice(0, p);\r\n        var right = data.slice(p);\r\n        mergeSort(left, compare);\r\n        mergeSort(right, compare);\r\n        var leftIdx = 0;\r\n        var rightIdx = 0;\r\n        var i = 0;\r\n        while (leftIdx < left.length && rightIdx < right.length) {\r\n            var ret = compare(left[leftIdx], right[rightIdx]);\r\n            if (ret <= 0) {\r\n                // smaller_equal -> take left to preserve order\r\n                data[i++] = left[leftIdx++];\r\n            }\r\n            else {\r\n                // greater -> take right\r\n                data[i++] = right[rightIdx++];\r\n            }\r\n        }\r\n        while (leftIdx < left.length) {\r\n            data[i++] = left[leftIdx++];\r\n        }\r\n        while (rightIdx < right.length) {\r\n            data[i++] = right[rightIdx++];\r\n        }\r\n        return data;\r\n    }\r\n})(TextDocument || (TextDocument = {}));\r\nvar FullTextDocument = /** @class */ (function () {\r\n    function FullTextDocument(uri, languageId, version, content) {\r\n        this._uri = uri;\r\n        this._languageId = languageId;\r\n        this._version = version;\r\n        this._content = content;\r\n        this._lineOffsets = undefined;\r\n    }\r\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.prototype.getText = function (range) {\r\n        if (range) {\r\n            var start = this.offsetAt(range.start);\r\n            var end = this.offsetAt(range.end);\r\n            return this._content.substring(start, end);\r\n        }\r\n        return this._content;\r\n    };\r\n    FullTextDocument.prototype.update = function (event, version) {\r\n        this._content = event.text;\r\n        this._version = version;\r\n        this._lineOffsets = undefined;\r\n    };\r\n    FullTextDocument.prototype.getLineOffsets = function () {\r\n        if (this._lineOffsets === undefined) {\r\n            var lineOffsets = [];\r\n            var text = this._content;\r\n            var isLineStart = true;\r\n            for (var i = 0; i < text.length; i++) {\r\n                if (isLineStart) {\r\n                    lineOffsets.push(i);\r\n                    isLineStart = false;\r\n                }\r\n                var ch = text.charAt(i);\r\n                isLineStart = (ch === '\\r' || ch === '\\n');\r\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\r\n                    i++;\r\n                }\r\n            }\r\n            if (isLineStart && text.length > 0) {\r\n                lineOffsets.push(text.length);\r\n            }\r\n            this._lineOffsets = lineOffsets;\r\n        }\r\n        return this._lineOffsets;\r\n    };\r\n    FullTextDocument.prototype.positionAt = function (offset) {\r\n        offset = Math.max(Math.min(offset, this._content.length), 0);\r\n        var lineOffsets = this.getLineOffsets();\r\n        var low = 0, high = lineOffsets.length;\r\n        if (high === 0) {\r\n            return Position.create(0, offset);\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (lineOffsets[mid] > offset) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        // low is the least x for which the line offset is larger than the current offset\r\n        // or array.length if no line offset is larger than the current offset\r\n        var line = low - 1;\r\n        return Position.create(line, offset - lineOffsets[line]);\r\n    };\r\n    FullTextDocument.prototype.offsetAt = function (position) {\r\n        var lineOffsets = this.getLineOffsets();\r\n        if (position.line >= lineOffsets.length) {\r\n            return this._content.length;\r\n        }\r\n        else if (position.line < 0) {\r\n            return 0;\r\n        }\r\n        var lineOffset = lineOffsets[position.line];\r\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n    };\r\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n        get: function () {\r\n            return this.getLineOffsets().length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FullTextDocument;\r\n}());\r\nvar Is;\r\n(function (Is) {\r\n    var toString = Object.prototype.toString;\r\n    function defined(value) {\r\n        return typeof value !== 'undefined';\r\n    }\r\n    Is.defined = defined;\r\n    function undefined$1(value) {\r\n        return typeof value === 'undefined';\r\n    }\r\n    Is.undefined = undefined$1;\r\n    function boolean(value) {\r\n        return value === true || value === false;\r\n    }\r\n    Is.boolean = boolean;\r\n    function string(value) {\r\n        return toString.call(value) === '[object String]';\r\n    }\r\n    Is.string = string;\r\n    function number(value) {\r\n        return toString.call(value) === '[object Number]';\r\n    }\r\n    Is.number = number;\r\n    function func(value) {\r\n        return toString.call(value) === '[object Function]';\r\n    }\r\n    Is.func = func;\r\n    function objectLiteral(value) {\r\n        // Strictly speaking class instances pass this check as well. Since the LSP\r\n        // doesn't use classes we ignore this for now. If we do we need to add something\r\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\r\n        return value !== null && typeof value === 'object';\r\n    }\r\n    Is.objectLiteral = objectLiteral;\r\n    function typedArray(value, check) {\r\n        return Array.isArray(value) && value.every(check);\r\n    }\r\n    Is.typedArray = typedArray;\r\n})(Is || (Is = {}));\n\n/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nvar FullTextDocument$1 = /** @class */ (function () {\r\n    function FullTextDocument(uri, languageId, version, content) {\r\n        this._uri = uri;\r\n        this._languageId = languageId;\r\n        this._version = version;\r\n        this._content = content;\r\n        this._lineOffsets = undefined;\r\n    }\r\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\r\n        get: function () {\r\n            return this._uri;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\r\n        get: function () {\r\n            return this._languageId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\r\n        get: function () {\r\n            return this._version;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.prototype.getText = function (range) {\r\n        if (range) {\r\n            var start = this.offsetAt(range.start);\r\n            var end = this.offsetAt(range.end);\r\n            return this._content.substring(start, end);\r\n        }\r\n        return this._content;\r\n    };\r\n    FullTextDocument.prototype.update = function (changes, version) {\r\n        for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {\r\n            var change = changes_1[_i];\r\n            if (FullTextDocument.isIncremental(change)) {\r\n                // makes sure start is before end\r\n                var range = getWellformedRange(change.range);\r\n                // update content\r\n                var startOffset = this.offsetAt(range.start);\r\n                var endOffset = this.offsetAt(range.end);\r\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\r\n                // update the offsets\r\n                var startLine = Math.max(range.start.line, 0);\r\n                var endLine = Math.max(range.end.line, 0);\r\n                var lineOffsets = this._lineOffsets;\r\n                var addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\r\n                if (endLine - startLine === addedLineOffsets.length) {\r\n                    for (var i = 0, len = addedLineOffsets.length; i < len; i++) {\r\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\r\n                    }\r\n                }\r\n                else {\r\n                    if (addedLineOffsets.length < 10000) {\r\n                        lineOffsets.splice.apply(lineOffsets, [startLine + 1, endLine - startLine].concat(addedLineOffsets));\r\n                    }\r\n                    else { // avoid too many arguments for splice\r\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\r\n                    }\r\n                }\r\n                var diff = change.text.length - (endOffset - startOffset);\r\n                if (diff !== 0) {\r\n                    for (var i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\r\n                        lineOffsets[i] = lineOffsets[i] + diff;\r\n                    }\r\n                }\r\n            }\r\n            else if (FullTextDocument.isFull(change)) {\r\n                this._content = change.text;\r\n                this._lineOffsets = undefined;\r\n            }\r\n            else {\r\n                throw new Error('Unknown change event received');\r\n            }\r\n        }\r\n        this._version = version;\r\n    };\r\n    FullTextDocument.prototype.getLineOffsets = function () {\r\n        if (this._lineOffsets === undefined) {\r\n            this._lineOffsets = computeLineOffsets(this._content, true);\r\n        }\r\n        return this._lineOffsets;\r\n    };\r\n    FullTextDocument.prototype.positionAt = function (offset) {\r\n        offset = Math.max(Math.min(offset, this._content.length), 0);\r\n        var lineOffsets = this.getLineOffsets();\r\n        var low = 0, high = lineOffsets.length;\r\n        if (high === 0) {\r\n            return { line: 0, character: offset };\r\n        }\r\n        while (low < high) {\r\n            var mid = Math.floor((low + high) / 2);\r\n            if (lineOffsets[mid] > offset) {\r\n                high = mid;\r\n            }\r\n            else {\r\n                low = mid + 1;\r\n            }\r\n        }\r\n        // low is the least x for which the line offset is larger than the current offset\r\n        // or array.length if no line offset is larger than the current offset\r\n        var line = low - 1;\r\n        return { line: line, character: offset - lineOffsets[line] };\r\n    };\r\n    FullTextDocument.prototype.offsetAt = function (position) {\r\n        var lineOffsets = this.getLineOffsets();\r\n        if (position.line >= lineOffsets.length) {\r\n            return this._content.length;\r\n        }\r\n        else if (position.line < 0) {\r\n            return 0;\r\n        }\r\n        var lineOffset = lineOffsets[position.line];\r\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\r\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\r\n    };\r\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\r\n        get: function () {\r\n            return this.getLineOffsets().length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FullTextDocument.isIncremental = function (event) {\r\n        var candidate = event;\r\n        return candidate !== undefined && candidate !== null &&\r\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\r\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\r\n    };\r\n    FullTextDocument.isFull = function (event) {\r\n        var candidate = event;\r\n        return candidate !== undefined && candidate !== null &&\r\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\r\n    };\r\n    return FullTextDocument;\r\n}());\r\nvar TextDocument$1;\r\n(function (TextDocument) {\r\n    /**\r\n     * Creates a new text document.\r\n     *\r\n     * @param uri The document's uri.\r\n     * @param languageId  The document's language Id.\r\n     * @param version The document's initial version number.\r\n     * @param content The document's content.\r\n     */\r\n    function create(uri, languageId, version, content) {\r\n        return new FullTextDocument$1(uri, languageId, version, content);\r\n    }\r\n    TextDocument.create = create;\r\n    /**\r\n     * Updates a TextDocument by modifing its content.\r\n     *\r\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\r\n     * @param changes the changes to apply to the document.\r\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\r\n     *\r\n     */\r\n    function update(document, changes, version) {\r\n        if (document instanceof FullTextDocument$1) {\r\n            document.update(changes, version);\r\n            return document;\r\n        }\r\n        else {\r\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\r\n        }\r\n    }\r\n    TextDocument.update = update;\r\n    function applyEdits(document, edits) {\r\n        var text = document.getText();\r\n        var sortedEdits = mergeSort(edits.map(getWellformedEdit), function (a, b) {\r\n            var diff = a.range.start.line - b.range.start.line;\r\n            if (diff === 0) {\r\n                return a.range.start.character - b.range.start.character;\r\n            }\r\n            return diff;\r\n        });\r\n        var lastModifiedOffset = text.length;\r\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\r\n            var e = sortedEdits[i];\r\n            var startOffset = document.offsetAt(e.range.start);\r\n            var endOffset = document.offsetAt(e.range.end);\r\n            if (endOffset <= lastModifiedOffset) {\r\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\r\n            }\r\n            else {\r\n                throw new Error('Overlapping edit');\r\n            }\r\n            lastModifiedOffset = startOffset;\r\n        }\r\n        return text;\r\n    }\r\n    TextDocument.applyEdits = applyEdits;\r\n})(TextDocument$1 || (TextDocument$1 = {}));\r\nfunction mergeSort(data, compare) {\r\n    if (data.length <= 1) {\r\n        // sorted\r\n        return data;\r\n    }\r\n    var p = (data.length / 2) | 0;\r\n    var left = data.slice(0, p);\r\n    var right = data.slice(p);\r\n    mergeSort(left, compare);\r\n    mergeSort(right, compare);\r\n    var leftIdx = 0;\r\n    var rightIdx = 0;\r\n    var i = 0;\r\n    while (leftIdx < left.length && rightIdx < right.length) {\r\n        var ret = compare(left[leftIdx], right[rightIdx]);\r\n        if (ret <= 0) {\r\n            // smaller_equal -> take left to preserve order\r\n            data[i++] = left[leftIdx++];\r\n        }\r\n        else {\r\n            // greater -> take right\r\n            data[i++] = right[rightIdx++];\r\n        }\r\n    }\r\n    while (leftIdx < left.length) {\r\n        data[i++] = left[leftIdx++];\r\n    }\r\n    while (rightIdx < right.length) {\r\n        data[i++] = right[rightIdx++];\r\n    }\r\n    return data;\r\n}\r\nfunction computeLineOffsets(text, isAtLineStart, textOffset) {\r\n    if (textOffset === void 0) { textOffset = 0; }\r\n    var result = isAtLineStart ? [textOffset] : [];\r\n    for (var i = 0; i < text.length; i++) {\r\n        var ch = text.charCodeAt(i);\r\n        if (ch === 13 /* CarriageReturn */ || ch === 10 /* LineFeed */) {\r\n            if (ch === 13 /* CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* LineFeed */) {\r\n                i++;\r\n            }\r\n            result.push(textOffset + i + 1);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction getWellformedRange(range) {\r\n    var start = range.start;\r\n    var end = range.end;\r\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\r\n        return { start: end, end: start };\r\n    }\r\n    return range;\r\n}\r\nfunction getWellformedEdit(textEdit) {\r\n    var range = getWellformedRange(textEdit.range);\r\n    if (range !== textEdit.range) {\r\n        return { newText: textEdit.newText, range: range };\r\n    }\r\n    return textEdit;\r\n}\n\n/**\n * Error codes used by diagnostics\n */\nvar ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[ErrorCode[\"Undefined\"] = 0] = \"Undefined\";\n    ErrorCode[ErrorCode[\"EnumValueMismatch\"] = 1] = \"EnumValueMismatch\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfComment\"] = 257] = \"UnexpectedEndOfComment\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfString\"] = 258] = \"UnexpectedEndOfString\";\n    ErrorCode[ErrorCode[\"UnexpectedEndOfNumber\"] = 259] = \"UnexpectedEndOfNumber\";\n    ErrorCode[ErrorCode[\"InvalidUnicode\"] = 260] = \"InvalidUnicode\";\n    ErrorCode[ErrorCode[\"InvalidEscapeCharacter\"] = 261] = \"InvalidEscapeCharacter\";\n    ErrorCode[ErrorCode[\"InvalidCharacter\"] = 262] = \"InvalidCharacter\";\n    ErrorCode[ErrorCode[\"PropertyExpected\"] = 513] = \"PropertyExpected\";\n    ErrorCode[ErrorCode[\"CommaExpected\"] = 514] = \"CommaExpected\";\n    ErrorCode[ErrorCode[\"ColonExpected\"] = 515] = \"ColonExpected\";\n    ErrorCode[ErrorCode[\"ValueExpected\"] = 516] = \"ValueExpected\";\n    ErrorCode[ErrorCode[\"CommaOrCloseBacketExpected\"] = 517] = \"CommaOrCloseBacketExpected\";\n    ErrorCode[ErrorCode[\"CommaOrCloseBraceExpected\"] = 518] = \"CommaOrCloseBraceExpected\";\n    ErrorCode[ErrorCode[\"TrailingComma\"] = 519] = \"TrailingComma\";\n    ErrorCode[ErrorCode[\"DuplicateKey\"] = 520] = \"DuplicateKey\";\n    ErrorCode[ErrorCode[\"CommentNotPermitted\"] = 521] = \"CommentNotPermitted\";\n    ErrorCode[ErrorCode[\"SchemaResolveError\"] = 768] = \"SchemaResolveError\";\n})(ErrorCode || (ErrorCode = {}));\nvar ClientCapabilities;\n(function (ClientCapabilities) {\n    ClientCapabilities.LATEST = {\n        textDocument: {\n            completion: {\n                completionItem: {\n                    documentationFormat: [MarkupKind.Markdown, MarkupKind.PlainText],\n                    commitCharactersSupport: true\n                }\n            }\n        }\n    };\n})(ClientCapabilities || (ClientCapabilities = {}));\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nfunction format(message, args) {\r\n    var result;\r\n    if (args.length === 0) {\r\n        result = message;\r\n    }\r\n    else {\r\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\r\n            var index = rest[0];\r\n            return typeof args[index] !== 'undefined' ? args[index] : match;\r\n        });\r\n    }\r\n    return result;\r\n}\r\nfunction localize(key, message) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    return format(message, args);\r\n}\r\nfunction loadMessageBundle(file) {\r\n    return localize;\r\n}\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar localize$1 = loadMessageBundle();\nvar formats = {\n    'color-hex': { errorMessage: localize$1('colorHexFormatWarning', 'Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA.'), pattern: /^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/ },\n    'date-time': { errorMessage: localize$1('dateTimeFormatWarning', 'String is not a RFC3339 date-time.'), pattern: /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i },\n    'date': { errorMessage: localize$1('dateFormatWarning', 'String is not a RFC3339 date.'), pattern: /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i },\n    'time': { errorMessage: localize$1('timeFormatWarning', 'String is not a RFC3339 time.'), pattern: /^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i },\n    'email': { errorMessage: localize$1('emailFormatWarning', 'String is not an e-mail address.'), pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/ }\n};\nvar ASTNodeImpl = /** @class */ (function () {\n    function ASTNodeImpl(parent, offset, length) {\n        this.offset = offset;\n        this.length = length;\n        this.parent = parent;\n    }\n    Object.defineProperty(ASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ASTNodeImpl.prototype.toString = function () {\n        return 'type: ' + this.type + ' (' + this.offset + '/' + this.length + ')' + (this.parent ? ' parent: {' + this.parent.toString() + '}' : '');\n    };\n    return ASTNodeImpl;\n}());\nvar NullASTNodeImpl = /** @class */ (function (_super) {\n    __extends(NullASTNodeImpl, _super);\n    function NullASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'null';\n        _this.value = null;\n        return _this;\n    }\n    return NullASTNodeImpl;\n}(ASTNodeImpl));\nvar BooleanASTNodeImpl = /** @class */ (function (_super) {\n    __extends(BooleanASTNodeImpl, _super);\n    function BooleanASTNodeImpl(parent, boolValue, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'boolean';\n        _this.value = boolValue;\n        return _this;\n    }\n    return BooleanASTNodeImpl;\n}(ASTNodeImpl));\nvar ArrayASTNodeImpl = /** @class */ (function (_super) {\n    __extends(ArrayASTNodeImpl, _super);\n    function ArrayASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'array';\n        _this.items = [];\n        return _this;\n    }\n    Object.defineProperty(ArrayASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.items;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ArrayASTNodeImpl;\n}(ASTNodeImpl));\nvar NumberASTNodeImpl = /** @class */ (function (_super) {\n    __extends(NumberASTNodeImpl, _super);\n    function NumberASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'number';\n        _this.isInteger = true;\n        _this.value = Number.NaN;\n        return _this;\n    }\n    return NumberASTNodeImpl;\n}(ASTNodeImpl));\nvar StringASTNodeImpl = /** @class */ (function (_super) {\n    __extends(StringASTNodeImpl, _super);\n    function StringASTNodeImpl(parent, offset, length) {\n        var _this = _super.call(this, parent, offset, length) || this;\n        _this.type = 'string';\n        _this.value = '';\n        return _this;\n    }\n    return StringASTNodeImpl;\n}(ASTNodeImpl));\nvar PropertyASTNodeImpl = /** @class */ (function (_super) {\n    __extends(PropertyASTNodeImpl, _super);\n    function PropertyASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'property';\n        _this.colonOffset = -1;\n        return _this;\n    }\n    Object.defineProperty(PropertyASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.valueNode ? [this.keyNode, this.valueNode] : [this.keyNode];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PropertyASTNodeImpl;\n}(ASTNodeImpl));\nvar ObjectASTNodeImpl = /** @class */ (function (_super) {\n    __extends(ObjectASTNodeImpl, _super);\n    function ObjectASTNodeImpl(parent, offset) {\n        var _this = _super.call(this, parent, offset) || this;\n        _this.type = 'object';\n        _this.properties = [];\n        return _this;\n    }\n    Object.defineProperty(ObjectASTNodeImpl.prototype, \"children\", {\n        get: function () {\n            return this.properties;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ObjectASTNodeImpl;\n}(ASTNodeImpl));\nfunction asSchema(schema) {\n    if (isBoolean(schema)) {\n        return schema ? {} : { \"not\": {} };\n    }\n    return schema;\n}\nvar EnumMatch;\n(function (EnumMatch) {\n    EnumMatch[EnumMatch[\"Key\"] = 0] = \"Key\";\n    EnumMatch[EnumMatch[\"Enum\"] = 1] = \"Enum\";\n})(EnumMatch || (EnumMatch = {}));\nvar NoOpSchemaCollector = /** @class */ (function () {\n    function NoOpSchemaCollector() {\n    }\n    Object.defineProperty(NoOpSchemaCollector.prototype, \"schemas\", {\n        get: function () { return []; },\n        enumerable: true,\n        configurable: true\n    });\n    NoOpSchemaCollector.prototype.add = function (schema) { };\n    NoOpSchemaCollector.prototype.merge = function (other) { };\n    NoOpSchemaCollector.prototype.include = function (node) { return true; };\n    NoOpSchemaCollector.prototype.newSub = function () { return this; };\n    NoOpSchemaCollector.instance = new NoOpSchemaCollector();\n    return NoOpSchemaCollector;\n}());\nfunction getNodeValue$2(node) {\n    return getNodeValue$1(node);\n}\n\n/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\nfunction startsWith(haystack, needle) {\n    if (haystack.length < needle.length) {\n        return false;\n    }\n    for (var i = 0; i < needle.length; i++) {\n        if (haystack[i] !== needle[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Determines if haystack ends with needle.\n */\nfunction endsWith(haystack, needle) {\n    var diff = haystack.length - needle.length;\n    if (diff > 0) {\n        return haystack.lastIndexOf(needle) === diff;\n    }\n    else if (diff === 0) {\n        return haystack === needle;\n    }\n    else {\n        return false;\n    }\n}\nfunction convertSimple2RegExpPattern(pattern) {\n    return pattern.replace(/[\\-\\\\\\{\\}\\+\\?\\|\\^\\$\\.\\,\\[\\]\\(\\)\\#\\s]/g, '\\\\$&').replace(/[\\*]/g, '.*');\n}\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nvar isWindows;\nif (typeof process === 'object') {\n    isWindows = process.platform === 'win32';\n}\nelse if (typeof navigator === 'object') {\n    var userAgent = navigator.userAgent;\n    isWindows = userAgent.indexOf('Windows') >= 0;\n}\n//#endregion\nvar _schemePattern = /^\\w[\\w\\d+.-]*$/;\nvar _singleSlashStart = /^\\//;\nvar _doubleSlashStart = /^\\/\\//;\nfunction _validateUri(ret, _strict) {\n    // scheme, must be set\n    if (!ret.scheme && _strict) {\n        throw new Error(\"[UriError]: Scheme is missing: {scheme: \\\"\\\", authority: \\\"\" + ret.authority + \"\\\", path: \\\"\" + ret.path + \"\\\", query: \\\"\" + ret.query + \"\\\", fragment: \\\"\" + ret.fragment + \"\\\"}\");\n    }\n    // scheme, https://tools.ietf.org/html/rfc3986#section-3.1\n    // ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n    if (ret.scheme && !_schemePattern.test(ret.scheme)) {\n        throw new Error('[UriError]: Scheme contains illegal characters.');\n    }\n    // path, http://tools.ietf.org/html/rfc3986#section-3.3\n    // If a URI contains an authority component, then the path component\n    // must either be empty or begin with a slash (\"/\") character.  If a URI\n    // does not contain an authority component, then the path cannot begin\n    // with two slash characters (\"//\").\n    if (ret.path) {\n        if (ret.authority) {\n            if (!_singleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\n            }\n        }\n        else {\n            if (_doubleSlashStart.test(ret.path)) {\n                throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\n            }\n        }\n    }\n}\n// for a while we allowed uris *without* schemes and this is the migration\n// for them, e.g. an uri without scheme and without strict-mode warns and falls\n// back to the file-scheme. that should cause the least carnage and still be a\n// clear warning\nfunction _schemeFix(scheme, _strict) {\n    if (!scheme && !_strict) {\n        return 'file';\n    }\n    return scheme;\n}\n// implements a bit of https://tools.ietf.org/html/rfc3986#section-5\nfunction _referenceResolution(scheme, path) {\n    // the slash-character is our 'default base' as we don't\n    // support constructing URIs relative to other URIs. This\n    // also means that we alter and potentially break paths.\n    // see https://tools.ietf.org/html/rfc3986#section-5.1.4\n    switch (scheme) {\n        case 'https':\n        case 'http':\n        case 'file':\n            if (!path) {\n                path = _slash;\n            }\n            else if (path[0] !== _slash) {\n                path = _slash + path;\n            }\n            break;\n    }\n    return path;\n}\nvar _empty = '';\nvar _slash = '/';\nvar _regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\n/**\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\n * This class is a simple parser which creates the basic component parts\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\n * and encoding.\n *\n *       foo://example.com:8042/over/there?name=ferret#nose\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\n *        |           |            |            |        |\n *     scheme     authority       path        query   fragment\n *        |   _____________________|__\n *       / \\ /                        \\\n *       urn:example:animal:ferret:nose\n */\nvar URI = /** @class */ (function () {\n    /**\n     * @internal\n     */\n    function URI(schemeOrData, authority, path, query, fragment, _strict) {\n        if (_strict === void 0) { _strict = false; }\n        if (typeof schemeOrData === 'object') {\n            this.scheme = schemeOrData.scheme || _empty;\n            this.authority = schemeOrData.authority || _empty;\n            this.path = schemeOrData.path || _empty;\n            this.query = schemeOrData.query || _empty;\n            this.fragment = schemeOrData.fragment || _empty;\n            // no validation because it's this URI\n            // that creates uri components.\n            // _validateUri(this);\n        }\n        else {\n            this.scheme = _schemeFix(schemeOrData, _strict);\n            this.authority = authority || _empty;\n            this.path = _referenceResolution(this.scheme, path || _empty);\n            this.query = query || _empty;\n            this.fragment = fragment || _empty;\n            _validateUri(this, _strict);\n        }\n    }\n    URI.isUri = function (thing) {\n        if (thing instanceof URI) {\n            return true;\n        }\n        if (!thing) {\n            return false;\n        }\n        return typeof thing.authority === 'string'\n            && typeof thing.fragment === 'string'\n            && typeof thing.path === 'string'\n            && typeof thing.query === 'string'\n            && typeof thing.scheme === 'string'\n            && typeof thing.fsPath === 'function'\n            && typeof thing.with === 'function'\n            && typeof thing.toString === 'function';\n    };\n    Object.defineProperty(URI.prototype, \"fsPath\", {\n        // ---- filesystem path -----------------------\n        /**\n         * Returns a string representing the corresponding file system path of this URI.\n         * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the\n         * platform specific path separator.\n         *\n         * * Will *not* validate the path for invalid characters and semantics.\n         * * Will *not* look at the scheme of this URI.\n         * * The result shall *not* be used for display purposes but for accessing a file on disk.\n         *\n         *\n         * The *difference* to `URI#path` is the use of the platform specific separator and the handling\n         * of UNC paths. See the below sample of a file-uri with an authority (UNC path).\n         *\n         * ```ts\n            const u = URI.parse('file://server/c$/folder/file.txt')\n            u.authority === 'server'\n            u.path === '/shares/c$/file.txt'\n            u.fsPath === '\\\\server\\c$\\folder\\file.txt'\n        ```\n         *\n         * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,\n         * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working\n         * with URIs that represent files on disk (`file` scheme).\n         */\n        get: function () {\n            // if (this.scheme !== 'file') {\n            // \tconsole.warn(`[UriError] calling fsPath with scheme ${this.scheme}`);\n            // }\n            return _makeFsPath(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // ---- modify to new -------------------------\n    URI.prototype.with = function (change) {\n        if (!change) {\n            return this;\n        }\n        var scheme = change.scheme, authority = change.authority, path = change.path, query = change.query, fragment = change.fragment;\n        if (scheme === undefined) {\n            scheme = this.scheme;\n        }\n        else if (scheme === null) {\n            scheme = _empty;\n        }\n        if (authority === undefined) {\n            authority = this.authority;\n        }\n        else if (authority === null) {\n            authority = _empty;\n        }\n        if (path === undefined) {\n            path = this.path;\n        }\n        else if (path === null) {\n            path = _empty;\n        }\n        if (query === undefined) {\n            query = this.query;\n        }\n        else if (query === null) {\n            query = _empty;\n        }\n        if (fragment === undefined) {\n            fragment = this.fragment;\n        }\n        else if (fragment === null) {\n            fragment = _empty;\n        }\n        if (scheme === this.scheme\n            && authority === this.authority\n            && path === this.path\n            && query === this.query\n            && fragment === this.fragment) {\n            return this;\n        }\n        return new _URI(scheme, authority, path, query, fragment);\n    };\n    // ---- parse & validate ------------------------\n    /**\n     * Creates a new URI from a string, e.g. `http://www.msft.com/some/path`,\n     * `file:///usr/home`, or `scheme:with/path`.\n     *\n     * @param value A string which represents an URI (see `URI#toString`).\n     */\n    URI.parse = function (value, _strict) {\n        if (_strict === void 0) { _strict = false; }\n        var match = _regexp.exec(value);\n        if (!match) {\n            return new _URI(_empty, _empty, _empty, _empty, _empty);\n        }\n        return new _URI(match[2] || _empty, decodeURIComponent(match[4] || _empty), decodeURIComponent(match[5] || _empty), decodeURIComponent(match[7] || _empty), decodeURIComponent(match[9] || _empty), _strict);\n    };\n    /**\n     * Creates a new URI from a file system path, e.g. `c:\\my\\files`,\n     * `/usr/home`, or `\\\\server\\share\\some\\path`.\n     *\n     * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument\n     * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**\n     * `URI.parse('file://' + path)` because the path might contain characters that are\n     * interpreted (# and ?). See the following sample:\n     * ```ts\n    const good = URI.file('/coding/c#/project1');\n    good.scheme === 'file';\n    good.path === '/coding/c#/project1';\n    good.fragment === '';\n    const bad = URI.parse('file://' + '/coding/c#/project1');\n    bad.scheme === 'file';\n    bad.path === '/coding/c'; // path is now broken\n    bad.fragment === '/project1';\n    ```\n     *\n     * @param path A file system path (see `URI#fsPath`)\n     */\n    URI.file = function (path) {\n        var authority = _empty;\n        // normalize to fwd-slashes on windows,\n        // on other systems bwd-slashes are valid\n        // filename character, eg /f\\oo/ba\\r.txt\n        if (isWindows) {\n            path = path.replace(/\\\\/g, _slash);\n        }\n        // check for authority as used in UNC shares\n        // or use the path as given\n        if (path[0] === _slash && path[1] === _slash) {\n            var idx = path.indexOf(_slash, 2);\n            if (idx === -1) {\n                authority = path.substring(2);\n                path = _slash;\n            }\n            else {\n                authority = path.substring(2, idx);\n                path = path.substring(idx) || _slash;\n            }\n        }\n        return new _URI('file', authority, path, _empty, _empty);\n    };\n    URI.from = function (components) {\n        return new _URI(components.scheme, components.authority, components.path, components.query, components.fragment);\n    };\n    // ---- printing/externalize ---------------------------\n    /**\n     * Creates a string representation for this URI. It's guaranteed that calling\n     * `URI.parse` with the result of this function creates an URI which is equal\n     * to this URI.\n     *\n     * * The result shall *not* be used for display purposes but for externalization or transport.\n     * * The result will be encoded using the percentage encoding and encoding happens mostly\n     * ignore the scheme-specific encoding rules.\n     *\n     * @param skipEncoding Do not encode the result, default is `false`\n     */\n    URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        return _asFormatted(this, skipEncoding);\n    };\n    URI.prototype.toJSON = function () {\n        return this;\n    };\n    URI.revive = function (data) {\n        if (!data) {\n            return data;\n        }\n        else if (data instanceof URI) {\n            return data;\n        }\n        else {\n            var result = new _URI(data);\n            result._formatted = data.external;\n            result._fsPath = data._sep === _pathSepMarker ? data.fsPath : null;\n            return result;\n        }\n    };\n    return URI;\n}());\nvar _pathSepMarker = isWindows ? 1 : undefined;\n// tslint:disable-next-line:class-name\nvar _URI = /** @class */ (function (_super) {\n    __extends$1(_URI, _super);\n    function _URI() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._formatted = null;\n        _this._fsPath = null;\n        return _this;\n    }\n    Object.defineProperty(_URI.prototype, \"fsPath\", {\n        get: function () {\n            if (!this._fsPath) {\n                this._fsPath = _makeFsPath(this);\n            }\n            return this._fsPath;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    _URI.prototype.toString = function (skipEncoding) {\n        if (skipEncoding === void 0) { skipEncoding = false; }\n        if (!skipEncoding) {\n            if (!this._formatted) {\n                this._formatted = _asFormatted(this, false);\n            }\n            return this._formatted;\n        }\n        else {\n            // we don't cache that\n            return _asFormatted(this, true);\n        }\n    };\n    _URI.prototype.toJSON = function () {\n        var res = {\n            $mid: 1\n        };\n        // cached state\n        if (this._fsPath) {\n            res.fsPath = this._fsPath;\n            res._sep = _pathSepMarker;\n        }\n        if (this._formatted) {\n            res.external = this._formatted;\n        }\n        // uri components\n        if (this.path) {\n            res.path = this.path;\n        }\n        if (this.scheme) {\n            res.scheme = this.scheme;\n        }\n        if (this.authority) {\n            res.authority = this.authority;\n        }\n        if (this.query) {\n            res.query = this.query;\n        }\n        if (this.fragment) {\n            res.fragment = this.fragment;\n        }\n        return res;\n    };\n    return _URI;\n}(URI));\n// reserved characters: https://tools.ietf.org/html/rfc3986#section-2.2\nvar encodeTable = (_a = {},\n    _a[58 /* Colon */] = '%3A',\n    _a[47 /* Slash */] = '%2F',\n    _a[63 /* QuestionMark */] = '%3F',\n    _a[35 /* Hash */] = '%23',\n    _a[91 /* OpenSquareBracket */] = '%5B',\n    _a[93 /* CloseSquareBracket */] = '%5D',\n    _a[64 /* AtSign */] = '%40',\n    _a[33 /* ExclamationMark */] = '%21',\n    _a[36 /* DollarSign */] = '%24',\n    _a[38 /* Ampersand */] = '%26',\n    _a[39 /* SingleQuote */] = '%27',\n    _a[40 /* OpenParen */] = '%28',\n    _a[41 /* CloseParen */] = '%29',\n    _a[42 /* Asterisk */] = '%2A',\n    _a[43 /* Plus */] = '%2B',\n    _a[44 /* Comma */] = '%2C',\n    _a[59 /* Semicolon */] = '%3B',\n    _a[61 /* Equals */] = '%3D',\n    _a[32 /* Space */] = '%20',\n    _a);\nfunction encodeURIComponentFast(uriComponent, allowSlash) {\n    var res = undefined;\n    var nativeEncodePos = -1;\n    for (var pos = 0; pos < uriComponent.length; pos++) {\n        var code = uriComponent.charCodeAt(pos);\n        // unreserved characters: https://tools.ietf.org/html/rfc3986#section-2.3\n        if ((code >= 97 /* a */ && code <= 122 /* z */)\n            || (code >= 65 /* A */ && code <= 90 /* Z */)\n            || (code >= 48 /* Digit0 */ && code <= 57 /* Digit9 */)\n            || code === 45 /* Dash */\n            || code === 46 /* Period */\n            || code === 95 /* Underline */\n            || code === 126 /* Tilde */\n            || (allowSlash && code === 47 /* Slash */)) {\n            // check if we are delaying native encode\n            if (nativeEncodePos !== -1) {\n                res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                nativeEncodePos = -1;\n            }\n            // check if we write into a new string (by default we try to return the param)\n            if (res !== undefined) {\n                res += uriComponent.charAt(pos);\n            }\n        }\n        else {\n            // encoding needed, we need to allocate a new string\n            if (res === undefined) {\n                res = uriComponent.substr(0, pos);\n            }\n            // check with default table first\n            var escaped = encodeTable[code];\n            if (escaped !== undefined) {\n                // check if we are delaying native encode\n                if (nativeEncodePos !== -1) {\n                    res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n                    nativeEncodePos = -1;\n                }\n                // append escaped variant to result\n                res += escaped;\n            }\n            else if (nativeEncodePos === -1) {\n                // use native encode only when needed\n                nativeEncodePos = pos;\n            }\n        }\n    }\n    if (nativeEncodePos !== -1) {\n        res += encodeURIComponent(uriComponent.substring(nativeEncodePos));\n    }\n    return res !== undefined ? res : uriComponent;\n}\nfunction encodeURIComponentMinimal(path) {\n    var res = undefined;\n    for (var pos = 0; pos < path.length; pos++) {\n        var code = path.charCodeAt(pos);\n        if (code === 35 /* Hash */ || code === 63 /* QuestionMark */) {\n            if (res === undefined) {\n                res = path.substr(0, pos);\n            }\n            res += encodeTable[code];\n        }\n        else {\n            if (res !== undefined) {\n                res += path[pos];\n            }\n        }\n    }\n    return res !== undefined ? res : path;\n}\n/**\n * Compute `fsPath` for the given uri\n */\nfunction _makeFsPath(uri) {\n    var value;\n    if (uri.authority && uri.path.length > 1 && uri.scheme === 'file') {\n        // unc path: file://shares/c$/far/boo\n        value = \"//\" + uri.authority + uri.path;\n    }\n    else if (uri.path.charCodeAt(0) === 47 /* Slash */\n        && (uri.path.charCodeAt(1) >= 65 /* A */ && uri.path.charCodeAt(1) <= 90 /* Z */ || uri.path.charCodeAt(1) >= 97 /* a */ && uri.path.charCodeAt(1) <= 122 /* z */)\n        && uri.path.charCodeAt(2) === 58 /* Colon */) {\n        // windows drive letter: file:///c:/far/boo\n        value = uri.path[1].toLowerCase() + uri.path.substr(2);\n    }\n    else {\n        // other path\n        value = uri.path;\n    }\n    if (isWindows) {\n        value = value.replace(/\\//g, '\\\\');\n    }\n    return value;\n}\n/**\n * Create the external version of a uri\n */\nfunction _asFormatted(uri, skipEncoding) {\n    var encoder = !skipEncoding\n        ? encodeURIComponentFast\n        : encodeURIComponentMinimal;\n    var res = '';\n    var scheme = uri.scheme, authority = uri.authority, path = uri.path, query = uri.query, fragment = uri.fragment;\n    if (scheme) {\n        res += scheme;\n        res += ':';\n    }\n    if (authority || scheme === 'file') {\n        res += _slash;\n        res += _slash;\n    }\n    if (authority) {\n        var idx = authority.indexOf('@');\n        if (idx !== -1) {\n            // <user>@<auth>\n            var userinfo = authority.substr(0, idx);\n            authority = authority.substr(idx + 1);\n            idx = userinfo.indexOf(':');\n            if (idx === -1) {\n                res += encoder(userinfo, false);\n            }\n            else {\n                // <user>:<pass>@<auth>\n                res += encoder(userinfo.substr(0, idx), false);\n                res += ':';\n                res += encoder(userinfo.substr(idx + 1), false);\n            }\n            res += '@';\n        }\n        authority = authority.toLowerCase();\n        idx = authority.indexOf(':');\n        if (idx === -1) {\n            res += encoder(authority, false);\n        }\n        else {\n            // <auth>:<port>\n            res += encoder(authority.substr(0, idx), false);\n            res += authority.substr(idx);\n        }\n    }\n    if (path) {\n        // lower-case windows drive letters in /C:/fff or C:/fff\n        if (path.length >= 3 && path.charCodeAt(0) === 47 /* Slash */ && path.charCodeAt(2) === 58 /* Colon */) {\n            var code = path.charCodeAt(1);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = \"/\" + String.fromCharCode(code + 32) + \":\" + path.substr(3); // \"/c:\".length === 3\n            }\n        }\n        else if (path.length >= 2 && path.charCodeAt(1) === 58 /* Colon */) {\n            var code = path.charCodeAt(0);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = String.fromCharCode(code + 32) + \":\" + path.substr(2); // \"/c:\".length === 3\n            }\n        }\n        // encode the rest of the path\n        res += encoder(path, true);\n    }\n    if (query) {\n        res += '?';\n        res += encoder(query, false);\n    }\n    if (fragment) {\n        res += '#';\n        res += !skipEncoding ? encodeURIComponentFast(fragment, false) : fragment;\n    }\n    return res;\n}\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar localize$2 = loadMessageBundle();\nvar FilePatternAssociation = /** @class */ (function () {\n    function FilePatternAssociation(pattern) {\n        try {\n            this.patternRegExp = new RegExp(convertSimple2RegExpPattern(pattern) + '$');\n        }\n        catch (e) {\n            // invalid pattern\n            this.patternRegExp = null;\n        }\n        this.schemas = [];\n    }\n    FilePatternAssociation.prototype.addSchema = function (id) {\n        this.schemas.push(id);\n    };\n    FilePatternAssociation.prototype.matchesPattern = function (fileName) {\n        return this.patternRegExp && this.patternRegExp.test(fileName);\n    };\n    FilePatternAssociation.prototype.getSchemas = function () {\n        return this.schemas;\n    };\n    return FilePatternAssociation;\n}());\nvar SchemaHandle = /** @class */ (function () {\n    function SchemaHandle(service, url, unresolvedSchemaContent) {\n        this.service = service;\n        this.url = url;\n        this.dependencies = {};\n        if (unresolvedSchemaContent) {\n            this.unresolvedSchema = this.service.promise.resolve(new UnresolvedSchema(unresolvedSchemaContent));\n        }\n    }\n    SchemaHandle.prototype.getUnresolvedSchema = function () {\n        if (!this.unresolvedSchema) {\n            this.unresolvedSchema = this.service.loadSchema(this.url);\n        }\n        return this.unresolvedSchema;\n    };\n    SchemaHandle.prototype.getResolvedSchema = function () {\n        var _this = this;\n        if (!this.resolvedSchema) {\n            this.resolvedSchema = this.getUnresolvedSchema().then(function (unresolved) {\n                return _this.service.resolveSchemaContent(unresolved, _this.url, _this.dependencies);\n            });\n        }\n        return this.resolvedSchema;\n    };\n    SchemaHandle.prototype.clearSchema = function () {\n        this.resolvedSchema = null;\n        this.unresolvedSchema = null;\n        this.dependencies = {};\n    };\n    return SchemaHandle;\n}());\nvar UnresolvedSchema = /** @class */ (function () {\n    function UnresolvedSchema(schema, errors) {\n        if (errors === void 0) { errors = []; }\n        this.schema = schema;\n        this.errors = errors;\n    }\n    return UnresolvedSchema;\n}());\nvar ResolvedSchema = /** @class */ (function () {\n    function ResolvedSchema(schema, errors) {\n        if (errors === void 0) { errors = []; }\n        this.schema = schema;\n        this.errors = errors;\n    }\n    ResolvedSchema.prototype.getSection = function (path) {\n        return asSchema(this.getSectionRecursive(path, this.schema));\n    };\n    ResolvedSchema.prototype.getSectionRecursive = function (path, schema) {\n        if (!schema || typeof schema === 'boolean' || path.length === 0) {\n            return schema;\n        }\n        var next = path.shift();\n        if (schema.properties && typeof schema.properties[next]) {\n            return this.getSectionRecursive(path, schema.properties[next]);\n        }\n        else if (schema.patternProperties) {\n            for (var _i = 0, _a = Object.keys(schema.patternProperties); _i < _a.length; _i++) {\n                var pattern = _a[_i];\n                var regex = new RegExp(pattern);\n                if (regex.test(next)) {\n                    return this.getSectionRecursive(path, schema.patternProperties[pattern]);\n                }\n            }\n        }\n        else if (typeof schema.additionalProperties === 'object') {\n            return this.getSectionRecursive(path, schema.additionalProperties);\n        }\n        else if (next.match('[0-9]+')) {\n            if (Array.isArray(schema.items)) {\n                var index = parseInt(next, 10);\n                if (!isNaN(index) && schema.items[index]) {\n                    return this.getSectionRecursive(path, schema.items[index]);\n                }\n            }\n            else if (schema.items) {\n                return this.getSectionRecursive(path, schema.items);\n            }\n        }\n        return null;\n    };\n    return ResolvedSchema;\n}());\nvar JSONSchemaService = /** @class */ (function () {\n    function JSONSchemaService(requestService, contextService, promiseConstructor) {\n        this.contextService = contextService;\n        this.requestService = requestService;\n        this.promiseConstructor = promiseConstructor || Promise;\n        this.callOnDispose = [];\n        this.contributionSchemas = {};\n        this.contributionAssociations = {};\n        this.schemasById = {};\n        this.filePatternAssociations = [];\n        this.filePatternAssociationById = {};\n        this.registeredSchemasIds = {};\n    }\n    JSONSchemaService.prototype.getRegisteredSchemaIds = function (filter) {\n        return Object.keys(this.registeredSchemasIds).filter(function (id) {\n            var scheme = URI.parse(id).scheme;\n            return scheme !== 'schemaservice' && (!filter || filter(scheme));\n        });\n    };\n    Object.defineProperty(JSONSchemaService.prototype, \"promise\", {\n        get: function () {\n            return this.promiseConstructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    JSONSchemaService.prototype.dispose = function () {\n        while (this.callOnDispose.length > 0) {\n            this.callOnDispose.pop()();\n        }\n    };\n    JSONSchemaService.prototype.onResourceChange = function (uri) {\n        var _this = this;\n        var hasChanges = false;\n        uri = this.normalizeId(uri);\n        var toWalk = [uri];\n        var all = Object.keys(this.schemasById).map(function (key) { return _this.schemasById[key]; });\n        while (toWalk.length) {\n            var curr = toWalk.pop();\n            for (var i = 0; i < all.length; i++) {\n                var handle = all[i];\n                if (handle && (handle.url === curr || handle.dependencies[curr])) {\n                    if (handle.url !== curr) {\n                        toWalk.push(handle.url);\n                    }\n                    handle.clearSchema();\n                    all[i] = undefined;\n                    hasChanges = true;\n                }\n            }\n        }\n        return hasChanges;\n    };\n    JSONSchemaService.prototype.normalizeId = function (id) {\n        // remove trailing '#', normalize drive capitalization\n        try {\n            return URI.parse(id).toString();\n        }\n        catch (e) {\n            return id;\n        }\n    };\n    JSONSchemaService.prototype.setSchemaContributions = function (schemaContributions) {\n        if (schemaContributions.schemas) {\n            var schemas = schemaContributions.schemas;\n            for (var id in schemas) {\n                var normalizedId = this.normalizeId(id);\n                this.contributionSchemas[normalizedId] = this.addSchemaHandle(normalizedId, schemas[id]);\n            }\n        }\n        if (schemaContributions.schemaAssociations) {\n            var schemaAssociations = schemaContributions.schemaAssociations;\n            for (var pattern in schemaAssociations) {\n                var associations = schemaAssociations[pattern];\n                this.contributionAssociations[pattern] = associations;\n                var fpa = this.getOrAddFilePatternAssociation(pattern);\n                for (var _i = 0, associations_1 = associations; _i < associations_1.length; _i++) {\n                    var schemaId = associations_1[_i];\n                    var id = this.normalizeId(schemaId);\n                    fpa.addSchema(id);\n                }\n            }\n        }\n    };\n    JSONSchemaService.prototype.addSchemaHandle = function (id, unresolvedSchemaContent) {\n        var schemaHandle = new SchemaHandle(this, id, unresolvedSchemaContent);\n        this.schemasById[id] = schemaHandle;\n        return schemaHandle;\n    };\n    JSONSchemaService.prototype.getOrAddSchemaHandle = function (id, unresolvedSchemaContent) {\n        return this.schemasById[id] || this.addSchemaHandle(id, unresolvedSchemaContent);\n    };\n    JSONSchemaService.prototype.getOrAddFilePatternAssociation = function (pattern) {\n        var fpa = this.filePatternAssociationById[pattern];\n        if (!fpa) {\n            fpa = new FilePatternAssociation(pattern);\n            this.filePatternAssociationById[pattern] = fpa;\n            this.filePatternAssociations.push(fpa);\n        }\n        return fpa;\n    };\n    JSONSchemaService.prototype.registerExternalSchema = function (uri, filePatterns, unresolvedSchemaContent) {\n        if (filePatterns === void 0) { filePatterns = null; }\n        var id = this.normalizeId(uri);\n        this.registeredSchemasIds[id] = true;\n        if (filePatterns) {\n            for (var _i = 0, filePatterns_1 = filePatterns; _i < filePatterns_1.length; _i++) {\n                var pattern = filePatterns_1[_i];\n                this.getOrAddFilePatternAssociation(pattern).addSchema(id);\n            }\n        }\n        return unresolvedSchemaContent ? this.addSchemaHandle(id, unresolvedSchemaContent) : this.getOrAddSchemaHandle(id);\n    };\n    JSONSchemaService.prototype.clearExternalSchemas = function () {\n        this.schemasById = {};\n        this.filePatternAssociations = [];\n        this.filePatternAssociationById = {};\n        this.registeredSchemasIds = {};\n        for (var id in this.contributionSchemas) {\n            this.schemasById[id] = this.contributionSchemas[id];\n            this.registeredSchemasIds[id] = true;\n        }\n        for (var pattern in this.contributionAssociations) {\n            var fpa = this.getOrAddFilePatternAssociation(pattern);\n            for (var _i = 0, _a = this.contributionAssociations[pattern]; _i < _a.length; _i++) {\n                var schemaId = _a[_i];\n                var id = this.normalizeId(schemaId);\n                fpa.addSchema(id);\n            }\n        }\n    };\n    JSONSchemaService.prototype.getResolvedSchema = function (schemaId) {\n        var id = this.normalizeId(schemaId);\n        var schemaHandle = this.schemasById[id];\n        if (schemaHandle) {\n            return schemaHandle.getResolvedSchema();\n        }\n        return this.promise.resolve(null);\n    };\n    JSONSchemaService.prototype.loadSchema = function (url) {\n        if (!this.requestService) {\n            var errorMessage = localize$2('json.schema.norequestservice', 'Unable to load schema from \\'{0}\\'. No schema request service available', toDisplayString(url));\n            return this.promise.resolve(new UnresolvedSchema({}, [errorMessage]));\n        }\n        return this.requestService(url).then(function (content) {\n            if (!content) {\n                var errorMessage = localize$2('json.schema.nocontent', 'Unable to load schema from \\'{0}\\': No content.', toDisplayString(url));\n                return new UnresolvedSchema({}, [errorMessage]);\n            }\n            var schemaContent = {};\n            var jsonErrors = [];\n            schemaContent = parse$1(content, jsonErrors);\n            var errors = jsonErrors.length ? [localize$2('json.schema.invalidFormat', 'Unable to parse content from \\'{0}\\': Parse error at offset {1}.', toDisplayString(url), jsonErrors[0].offset)] : [];\n            return new UnresolvedSchema(schemaContent, errors);\n        }, function (error) {\n            var errorMessage = error.toString();\n            var errorSplit = error.toString().split('Error: ');\n            if (errorSplit.length > 1) {\n                // more concise error message, URL and context are attached by caller anyways\n                errorMessage = errorSplit[1];\n            }\n            if (endsWith(errorMessage, '.')) {\n                errorMessage = errorMessage.substr(0, errorMessage.length - 1);\n            }\n            return new UnresolvedSchema({}, [localize$2('json.schema.nocontent', 'Unable to load schema from \\'{0}\\': {1}.', toDisplayString(url), errorMessage)]);\n        });\n    };\n    JSONSchemaService.prototype.resolveSchemaContent = function (schemaToResolve, schemaURL, dependencies) {\n        var _this = this;\n        var resolveErrors = schemaToResolve.errors.slice(0);\n        var schema = schemaToResolve.schema;\n        if (schema.$schema) {\n            var id = this.normalizeId(schema.$schema);\n            if (id === 'http://json-schema.org/draft-03/schema') {\n                return this.promise.resolve(new ResolvedSchema({}, [localize$2('json.schema.draft03.notsupported', \"Draft-03 schemas are not supported.\")]));\n            }\n            else if (id === 'https://json-schema.org/draft/2019-09/schema') {\n                schemaToResolve.errors.push(localize$2('json.schema.draft201909.notsupported', \"Draft 2019-09 schemas are not yet fully supported.\"));\n            }\n        }\n        var contextService = this.contextService;\n        var findSection = function (schema, path) {\n            if (!path) {\n                return schema;\n            }\n            var current = schema;\n            if (path[0] === '/') {\n                path = path.substr(1);\n            }\n            path.split('/').some(function (part) {\n                current = current[part];\n                return !current;\n            });\n            return current;\n        };\n        var merge = function (target, sourceRoot, sourceURI, path) {\n            var section = findSection(sourceRoot, path);\n            if (section) {\n                for (var key in section) {\n                    if (section.hasOwnProperty(key) && !target.hasOwnProperty(key)) {\n                        target[key] = section[key];\n                    }\n                }\n            }\n            else {\n                resolveErrors.push(localize$2('json.schema.invalidref', '$ref \\'{0}\\' in \\'{1}\\' can not be resolved.', path, sourceURI));\n            }\n        };\n        var resolveExternalLink = function (node, uri, linkPath, parentSchemaURL, parentSchemaDependencies) {\n            if (contextService && !/^\\w+:\\/\\/.*/.test(uri)) {\n                uri = contextService.resolveRelativePath(uri, parentSchemaURL);\n            }\n            uri = _this.normalizeId(uri);\n            var referencedHandle = _this.getOrAddSchemaHandle(uri);\n            return referencedHandle.getUnresolvedSchema().then(function (unresolvedSchema) {\n                parentSchemaDependencies[uri] = true;\n                if (unresolvedSchema.errors.length) {\n                    var loc = linkPath ? uri + '#' + linkPath : uri;\n                    resolveErrors.push(localize$2('json.schema.problemloadingref', 'Problems loading reference \\'{0}\\': {1}', loc, unresolvedSchema.errors[0]));\n                }\n                merge(node, unresolvedSchema.schema, uri, linkPath);\n                return resolveRefs(node, unresolvedSchema.schema, uri, referencedHandle.dependencies);\n            });\n        };\n        var resolveRefs = function (node, parentSchema, parentSchemaURL, parentSchemaDependencies) {\n            if (!node || typeof node !== 'object') {\n                return Promise.resolve(null);\n            }\n            var toWalk = [node];\n            var seen = [];\n            var openPromises = [];\n            var collectEntries = function () {\n                var entries = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    entries[_i] = arguments[_i];\n                }\n                for (var _a = 0, entries_1 = entries; _a < entries_1.length; _a++) {\n                    var entry = entries_1[_a];\n                    if (typeof entry === 'object') {\n                        toWalk.push(entry);\n                    }\n                }\n            };\n            var collectMapEntries = function () {\n                var maps = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    maps[_i] = arguments[_i];\n                }\n                for (var _a = 0, maps_1 = maps; _a < maps_1.length; _a++) {\n                    var map = maps_1[_a];\n                    if (typeof map === 'object') {\n                        for (var key in map) {\n                            var entry = map[key];\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            var collectArrayEntries = function () {\n                var arrays = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    arrays[_i] = arguments[_i];\n                }\n                for (var _a = 0, arrays_1 = arrays; _a < arrays_1.length; _a++) {\n                    var array = arrays_1[_a];\n                    if (Array.isArray(array)) {\n                        for (var _b = 0, array_1 = array; _b < array_1.length; _b++) {\n                            var entry = array_1[_b];\n                            if (typeof entry === 'object') {\n                                toWalk.push(entry);\n                            }\n                        }\n                    }\n                }\n            };\n            var handleRef = function (next) {\n                var seenRefs = [];\n                while (next.$ref) {\n                    var ref = next.$ref;\n                    var segments = ref.split('#', 2);\n                    delete next.$ref;\n                    if (segments[0].length > 0) {\n                        openPromises.push(resolveExternalLink(next, segments[0], segments[1], parentSchemaURL, parentSchemaDependencies));\n                        return;\n                    }\n                    else {\n                        if (seenRefs.indexOf(ref) === -1) {\n                            merge(next, parentSchema, parentSchemaURL, segments[1]); // can set next.$ref again, use seenRefs to avoid circle\n                            seenRefs.push(ref);\n                        }\n                    }\n                }\n                collectEntries(next.items, next.additionalProperties, next.not, next.contains, next.propertyNames, next.if, next.then, next.else);\n                collectMapEntries(next.definitions, next.properties, next.patternProperties, next.dependencies);\n                collectArrayEntries(next.anyOf, next.allOf, next.oneOf, next.items);\n            };\n            while (toWalk.length) {\n                var next = toWalk.pop();\n                if (seen.indexOf(next) >= 0) {\n                    continue;\n                }\n                seen.push(next);\n                handleRef(next);\n            }\n            return _this.promise.all(openPromises);\n        };\n        return resolveRefs(schema, schema, schemaURL, dependencies).then(function (_) { return new ResolvedSchema(schema, resolveErrors); });\n    };\n    JSONSchemaService.prototype.getSchemaForResource = function (resource, document) {\n        // first use $schema if present\n        if (document && document.root && document.root.type === 'object') {\n            var schemaProperties = document.root.properties.filter(function (p) { return (p.keyNode.value === '$schema') && p.valueNode && p.valueNode.type === 'string'; });\n            if (schemaProperties.length > 0) {\n                var schemeId = getNodeValue$2(schemaProperties[0].valueNode);\n                if (schemeId && startsWith(schemeId, '.') && this.contextService) {\n                    schemeId = this.contextService.resolveRelativePath(schemeId, resource);\n                }\n                if (schemeId) {\n                    var id = this.normalizeId(schemeId);\n                    return this.getOrAddSchemaHandle(id).getResolvedSchema();\n                }\n            }\n        }\n        var seen = Object.create(null);\n        var schemas = [];\n        for (var _i = 0, _a = this.filePatternAssociations; _i < _a.length; _i++) {\n            var entry = _a[_i];\n            if (entry.matchesPattern(resource)) {\n                for (var _b = 0, _c = entry.getSchemas(); _b < _c.length; _b++) {\n                    var schemaId = _c[_b];\n                    if (!seen[schemaId]) {\n                        schemas.push(schemaId);\n                        seen[schemaId] = true;\n                    }\n                }\n            }\n        }\n        if (schemas.length > 0) {\n            return this.createCombinedSchema(resource, schemas).getResolvedSchema();\n        }\n        return this.promise.resolve(null);\n    };\n    JSONSchemaService.prototype.createCombinedSchema = function (resource, schemaIds) {\n        if (schemaIds.length === 1) {\n            return this.getOrAddSchemaHandle(schemaIds[0]);\n        }\n        else {\n            var combinedSchemaId = 'schemaservice://combinedSchema/' + encodeURIComponent(resource);\n            var combinedSchema = {\n                allOf: schemaIds.map(function (schemaId) { return ({ $ref: schemaId }); })\n            };\n            return this.addSchemaHandle(combinedSchemaId, combinedSchema);\n        }\n    };\n    return JSONSchemaService;\n}());\nfunction toDisplayString(url) {\n    try {\n        var uri = URI.parse(url);\n        if (uri.scheme === 'file') {\n            return uri.fsPath;\n        }\n    }\n    catch (e) {\n        // ignore\n    }\n    return url;\n}\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar localize$3 = loadMessageBundle();\nvar schemaContributions = {\n    schemaAssociations: {},\n    schemas: {\n        // bundle the schema-schema to include (localized) descriptions\n        'http://json-schema.org/draft-04/schema#': {\n            'title': localize$3('schema.json', 'Describes a JSON file using a schema. See json-schema.org for more info.'),\n            '$schema': 'http://json-schema.org/draft-04/schema#',\n            'definitions': {\n                'schemaArray': {\n                    'type': 'array',\n                    'minItems': 1,\n                    'items': {\n                        '$ref': '#'\n                    }\n                },\n                'positiveInteger': {\n                    'type': 'integer',\n                    'minimum': 0\n                },\n                'positiveIntegerDefault0': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        },\n                        {\n                            'default': 0\n                        }\n                    ]\n                },\n                'simpleTypes': {\n                    'type': 'string',\n                    'enum': [\n                        'array',\n                        'boolean',\n                        'integer',\n                        'null',\n                        'number',\n                        'object',\n                        'string'\n                    ]\n                },\n                'stringArray': {\n                    'type': 'array',\n                    'items': {\n                        'type': 'string'\n                    },\n                    'minItems': 1,\n                    'uniqueItems': true\n                }\n            },\n            'type': 'object',\n            'properties': {\n                'id': {\n                    'type': 'string',\n                    'format': 'uri'\n                },\n                '$schema': {\n                    'type': 'string',\n                    'format': 'uri'\n                },\n                'title': {\n                    'type': 'string'\n                },\n                'description': {\n                    'type': 'string'\n                },\n                'default': {},\n                'multipleOf': {\n                    'type': 'number',\n                    'minimum': 0,\n                    'exclusiveMinimum': true\n                },\n                'maximum': {\n                    'type': 'number'\n                },\n                'exclusiveMaximum': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'minimum': {\n                    'type': 'number'\n                },\n                'exclusiveMinimum': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'maxLength': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        }\n                    ]\n                },\n                'minLength': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveIntegerDefault0'\n                        }\n                    ]\n                },\n                'pattern': {\n                    'type': 'string',\n                    'format': 'regex'\n                },\n                'additionalItems': {\n                    'anyOf': [\n                        {\n                            'type': 'boolean'\n                        },\n                        {\n                            '$ref': '#'\n                        }\n                    ],\n                    'default': {}\n                },\n                'items': {\n                    'anyOf': [\n                        {\n                            '$ref': '#'\n                        },\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ],\n                    'default': {}\n                },\n                'maxItems': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        }\n                    ]\n                },\n                'minItems': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveIntegerDefault0'\n                        }\n                    ]\n                },\n                'uniqueItems': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'maxProperties': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveInteger'\n                        }\n                    ]\n                },\n                'minProperties': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/positiveIntegerDefault0'\n                        }\n                    ]\n                },\n                'required': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/stringArray'\n                        }\n                    ]\n                },\n                'additionalProperties': {\n                    'anyOf': [\n                        {\n                            'type': 'boolean'\n                        },\n                        {\n                            '$ref': '#'\n                        }\n                    ],\n                    'default': {}\n                },\n                'definitions': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        '$ref': '#'\n                    },\n                    'default': {}\n                },\n                'properties': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        '$ref': '#'\n                    },\n                    'default': {}\n                },\n                'patternProperties': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        '$ref': '#'\n                    },\n                    'default': {}\n                },\n                'dependencies': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        'anyOf': [\n                            {\n                                '$ref': '#'\n                            },\n                            {\n                                '$ref': '#/definitions/stringArray'\n                            }\n                        ]\n                    }\n                },\n                'enum': {\n                    'type': 'array',\n                    'minItems': 1,\n                    'uniqueItems': true\n                },\n                'type': {\n                    'anyOf': [\n                        {\n                            '$ref': '#/definitions/simpleTypes'\n                        },\n                        {\n                            'type': 'array',\n                            'items': {\n                                '$ref': '#/definitions/simpleTypes'\n                            },\n                            'minItems': 1,\n                            'uniqueItems': true\n                        }\n                    ]\n                },\n                'format': {\n                    'anyOf': [\n                        {\n                            'type': 'string',\n                            'enum': [\n                                'date-time',\n                                'uri',\n                                'email',\n                                'hostname',\n                                'ipv4',\n                                'ipv6',\n                                'regex'\n                            ]\n                        },\n                        {\n                            'type': 'string'\n                        }\n                    ]\n                },\n                'allOf': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ]\n                },\n                'anyOf': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ]\n                },\n                'oneOf': {\n                    'allOf': [\n                        {\n                            '$ref': '#/definitions/schemaArray'\n                        }\n                    ]\n                },\n                'not': {\n                    'allOf': [\n                        {\n                            '$ref': '#'\n                        }\n                    ]\n                }\n            },\n            'dependencies': {\n                'exclusiveMaximum': [\n                    'maximum'\n                ],\n                'exclusiveMinimum': [\n                    'minimum'\n                ]\n            },\n            'default': {}\n        },\n        'http://json-schema.org/draft-07/schema#': {\n            'title': localize$3('schema.json', 'Describes a JSON file using a schema. See json-schema.org for more info.'),\n            'definitions': {\n                'schemaArray': {\n                    'type': 'array',\n                    'minItems': 1,\n                    'items': { '$ref': '#' }\n                },\n                'nonNegativeInteger': {\n                    'type': 'integer',\n                    'minimum': 0\n                },\n                'nonNegativeIntegerDefault0': {\n                    'allOf': [\n                        { '$ref': '#/definitions/nonNegativeInteger' },\n                        { 'default': 0 }\n                    ]\n                },\n                'simpleTypes': {\n                    'enum': [\n                        'array',\n                        'boolean',\n                        'integer',\n                        'null',\n                        'number',\n                        'object',\n                        'string'\n                    ]\n                },\n                'stringArray': {\n                    'type': 'array',\n                    'items': { 'type': 'string' },\n                    'uniqueItems': true,\n                    'default': []\n                }\n            },\n            'type': ['object', 'boolean'],\n            'properties': {\n                '$id': {\n                    'type': 'string',\n                    'format': 'uri-reference'\n                },\n                '$schema': {\n                    'type': 'string',\n                    'format': 'uri'\n                },\n                '$ref': {\n                    'type': 'string',\n                    'format': 'uri-reference'\n                },\n                '$comment': {\n                    'type': 'string'\n                },\n                'title': {\n                    'type': 'string'\n                },\n                'description': {\n                    'type': 'string'\n                },\n                'default': true,\n                'readOnly': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'examples': {\n                    'type': 'array',\n                    'items': true\n                },\n                'multipleOf': {\n                    'type': 'number',\n                    'exclusiveMinimum': 0\n                },\n                'maximum': {\n                    'type': 'number'\n                },\n                'exclusiveMaximum': {\n                    'type': 'number'\n                },\n                'minimum': {\n                    'type': 'number'\n                },\n                'exclusiveMinimum': {\n                    'type': 'number'\n                },\n                'maxLength': { '$ref': '#/definitions/nonNegativeInteger' },\n                'minLength': { '$ref': '#/definitions/nonNegativeIntegerDefault0' },\n                'pattern': {\n                    'type': 'string',\n                    'format': 'regex'\n                },\n                'additionalItems': { '$ref': '#' },\n                'items': {\n                    'anyOf': [\n                        { '$ref': '#' },\n                        { '$ref': '#/definitions/schemaArray' }\n                    ],\n                    'default': true\n                },\n                'maxItems': { '$ref': '#/definitions/nonNegativeInteger' },\n                'minItems': { '$ref': '#/definitions/nonNegativeIntegerDefault0' },\n                'uniqueItems': {\n                    'type': 'boolean',\n                    'default': false\n                },\n                'contains': { '$ref': '#' },\n                'maxProperties': { '$ref': '#/definitions/nonNegativeInteger' },\n                'minProperties': { '$ref': '#/definitions/nonNegativeIntegerDefault0' },\n                'required': { '$ref': '#/definitions/stringArray' },\n                'additionalProperties': { '$ref': '#' },\n                'definitions': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'default': {}\n                },\n                'properties': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'default': {}\n                },\n                'patternProperties': {\n                    'type': 'object',\n                    'additionalProperties': { '$ref': '#' },\n                    'propertyNames': { 'format': 'regex' },\n                    'default': {}\n                },\n                'dependencies': {\n                    'type': 'object',\n                    'additionalProperties': {\n                        'anyOf': [\n                            { '$ref': '#' },\n                            { '$ref': '#/definitions/stringArray' }\n                        ]\n                    }\n                },\n                'propertyNames': { '$ref': '#' },\n                'const': true,\n                'enum': {\n                    'type': 'array',\n                    'items': true,\n                    'minItems': 1,\n                    'uniqueItems': true\n                },\n                'type': {\n                    'anyOf': [\n                        { '$ref': '#/definitions/simpleTypes' },\n                        {\n                            'type': 'array',\n                            'items': { '$ref': '#/definitions/simpleTypes' },\n                            'minItems': 1,\n                            'uniqueItems': true\n                        }\n                    ]\n                },\n                'format': { 'type': 'string' },\n                'contentMediaType': { 'type': 'string' },\n                'contentEncoding': { 'type': 'string' },\n                'if': { '$ref': '#' },\n                'then': { '$ref': '#' },\n                'else': { '$ref': '#' },\n                'allOf': { '$ref': '#/definitions/schemaArray' },\n                'anyOf': { '$ref': '#/definitions/schemaArray' },\n                'oneOf': { '$ref': '#/definitions/schemaArray' },\n                'not': { '$ref': '#' }\n            },\n            'default': true\n        }\n    }\n};\nvar descriptions = {\n    id: localize$3('schema.json.id', \"A unique identifier for the schema.\"),\n    $schema: localize$3('schema.json.$schema', \"The schema to verify this document against.\"),\n    title: localize$3('schema.json.title', \"A descriptive title of the element.\"),\n    description: localize$3('schema.json.description', \"A long description of the element. Used in hover menus and suggestions.\"),\n    default: localize$3('schema.json.default', \"A default value. Used by suggestions.\"),\n    multipleOf: localize$3('schema.json.multipleOf', \"A number that should cleanly divide the current value (i.e. have no remainder).\"),\n    maximum: localize$3('schema.json.maximum', \"The maximum numerical value, inclusive by default.\"),\n    exclusiveMaximum: localize$3('schema.json.exclusiveMaximum', \"Makes the maximum property exclusive.\"),\n    minimum: localize$3('schema.json.minimum', \"The minimum numerical value, inclusive by default.\"),\n    exclusiveMinimum: localize$3('schema.json.exclusiveMininum', \"Makes the minimum property exclusive.\"),\n    maxLength: localize$3('schema.json.maxLength', \"The maximum length of a string.\"),\n    minLength: localize$3('schema.json.minLength', \"The minimum length of a string.\"),\n    pattern: localize$3('schema.json.pattern', \"A regular expression to match the string against. It is not implicitly anchored.\"),\n    additionalItems: localize$3('schema.json.additionalItems', \"For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail.\"),\n    items: localize$3('schema.json.items', \"For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on.\"),\n    maxItems: localize$3('schema.json.maxItems', \"The maximum number of items that can be inside an array. Inclusive.\"),\n    minItems: localize$3('schema.json.minItems', \"The minimum number of items that can be inside an array. Inclusive.\"),\n    uniqueItems: localize$3('schema.json.uniqueItems', \"If all of the items in the array must be unique. Defaults to false.\"),\n    maxProperties: localize$3('schema.json.maxProperties', \"The maximum number of properties an object can have. Inclusive.\"),\n    minProperties: localize$3('schema.json.minProperties', \"The minimum number of properties an object can have. Inclusive.\"),\n    required: localize$3('schema.json.required', \"An array of strings that lists the names of all properties required on this object.\"),\n    additionalProperties: localize$3('schema.json.additionalProperties', \"Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail.\"),\n    definitions: localize$3('schema.json.definitions', \"Not used for validation. Place subschemas here that you wish to reference inline with $ref.\"),\n    properties: localize$3('schema.json.properties', \"A map of property names to schemas for each property.\"),\n    patternProperties: localize$3('schema.json.patternProperties', \"A map of regular expressions on property names to schemas for matching properties.\"),\n    dependencies: localize$3('schema.json.dependencies', \"A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object.\"),\n    enum: localize$3('schema.json.enum', \"The set of literal values that are valid.\"),\n    type: localize$3('schema.json.type', \"Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types.\"),\n    format: localize$3('schema.json.format', \"Describes the format expected for the value.\"),\n    allOf: localize$3('schema.json.allOf', \"An array of schemas, all of which must match.\"),\n    anyOf: localize$3('schema.json.anyOf', \"An array of schemas, where at least one must match.\"),\n    oneOf: localize$3('schema.json.oneOf', \"An array of schemas, exactly one of which must match.\"),\n    not: localize$3('schema.json.not', \"A schema which must not match.\"),\n    $id: localize$3('schema.json.$id', \"A unique identifier for the schema.\"),\n    $ref: localize$3('schema.json.$ref', \"Reference a definition hosted on any location.\"),\n    $comment: localize$3('schema.json.$comment', \"Comments from schema authors to readers or maintainers of the schema.\"),\n    readOnly: localize$3('schema.json.readOnly', \"Indicates that the value of the instance is managed exclusively by the owning authority.\"),\n    examples: localize$3('schema.json.examples', \"Sample JSON values associated with a particular schema, for the purpose of illustrating usage.\"),\n    contains: localize$3('schema.json.contains', \"An array instance is valid against \\\"contains\\\" if at least one of its elements is valid against the given schema.\"),\n    propertyNames: localize$3('schema.json.propertyNames', \"If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema.\"),\n    const: localize$3('schema.json.const', \"An instance validates successfully against this keyword if its value is equal to the value of the keyword.\"),\n    contentMediaType: localize$3('schema.json.contentMediaType', \"Describes the media type of a string property.\"),\n    contentEncoding: localize$3('schema.json.contentEncoding', \"Describes the content encoding of a string property.\"),\n    if: localize$3('schema.json.if', \"The validation outcome of the \\\"if\\\" subschema controls which of the \\\"then\\\" or \\\"else\\\" keywords are evaluated.\"),\n    then: localize$3('schema.json.then', \"The \\\"if\\\" subschema is used for validation when the \\\"if\\\" subschema succeeds.\"),\n    else: localize$3('schema.json.else', \"The \\\"else\\\" subschema is used for validation when the \\\"if\\\" subschema fails.\")\n};\nfor (var schemaName in schemaContributions.schemas) {\n    var schema = schemaContributions.schemas[schemaName];\n    for (var property in schema.properties) {\n        var propertyObject = schema.properties[property];\n        if (propertyObject === true) {\n            propertyObject = schema.properties[property] = {};\n        }\n        var description = descriptions[property];\n        if (description) {\n            propertyObject['description'] = description;\n        }\n        else {\n            console.log(property + \": localize('schema.json.\" + property + \"', \\\"\\\")\");\n        }\n    }\n}\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar Uri = monaco.Uri;\r\nvar Range$1 = monaco.Range;\r\n// --- diagnostics --- ---\r\nvar DiagnosticsAdapter = /** @class */ (function () {\r\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\r\n        var _this = this;\r\n        this._languageId = _languageId;\r\n        this._worker = _worker;\r\n        this._disposables = [];\r\n        this._listener = Object.create(null);\r\n        var onModelAdd = function (model) {\r\n            var modeId = model.getModeId();\r\n            if (modeId !== _this._languageId) {\r\n                return;\r\n            }\r\n            var handle;\r\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\r\n                clearTimeout(handle);\r\n                handle = setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\r\n            });\r\n            _this._doValidate(model.uri, modeId);\r\n        };\r\n        var onModelRemoved = function (model) {\r\n            monaco.editor.setModelMarkers(model, _this._languageId, []);\r\n            var uriStr = model.uri.toString();\r\n            var listener = _this._listener[uriStr];\r\n            if (listener) {\r\n                listener.dispose();\r\n                delete _this._listener[uriStr];\r\n            }\r\n        };\r\n        this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\r\n        this._disposables.push(monaco.editor.onWillDisposeModel(function (model) {\r\n            onModelRemoved(model);\r\n            _this._resetSchema(model.uri);\r\n        }));\r\n        this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\r\n            onModelRemoved(event.model);\r\n            onModelAdd(event.model);\r\n            _this._resetSchema(event.model.uri);\r\n        }));\r\n        this._disposables.push(defaults.onDidChange(function (_) {\r\n            monaco.editor.getModels().forEach(function (model) {\r\n                if (model.getModeId() === _this._languageId) {\r\n                    onModelRemoved(model);\r\n                    onModelAdd(model);\r\n                }\r\n            });\r\n        }));\r\n        this._disposables.push({\r\n            dispose: function () {\r\n                monaco.editor.getModels().forEach(onModelRemoved);\r\n                for (var key in _this._listener) {\r\n                    _this._listener[key].dispose();\r\n                }\r\n            }\r\n        });\r\n        monaco.editor.getModels().forEach(onModelAdd);\r\n    }\r\n    DiagnosticsAdapter.prototype.dispose = function () {\r\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\r\n        this._disposables = [];\r\n    };\r\n    DiagnosticsAdapter.prototype._resetSchema = function (resource) {\r\n        this._worker().then(function (worker) {\r\n            worker.resetSchema(resource.toString());\r\n        });\r\n    };\r\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\r\n        this._worker(resource).then(function (worker) {\r\n            return worker.doValidation(resource.toString()).then(function (diagnostics) {\r\n                var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\r\n                var model = monaco.editor.getModel(resource);\r\n                if (model && model.getModeId() === languageId) {\r\n                    monaco.editor.setModelMarkers(model, languageId, markers);\r\n                }\r\n            });\r\n        }).then(undefined, function (err) {\r\n            console.error(err);\r\n        });\r\n    };\r\n    return DiagnosticsAdapter;\r\n}());\r\nfunction toSeverity(lsSeverity) {\r\n    switch (lsSeverity) {\r\n        case DiagnosticSeverity.Error: return monaco.MarkerSeverity.Error;\r\n        case DiagnosticSeverity.Warning: return monaco.MarkerSeverity.Warning;\r\n        case DiagnosticSeverity.Information: return monaco.MarkerSeverity.Info;\r\n        case DiagnosticSeverity.Hint: return monaco.MarkerSeverity.Hint;\r\n        default:\r\n            return monaco.MarkerSeverity.Info;\r\n    }\r\n}\r\nfunction toDiagnostics(resource, diag) {\r\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\r\n    return {\r\n        severity: toSeverity(diag.severity),\r\n        startLineNumber: diag.range.start.line + 1,\r\n        startColumn: diag.range.start.character + 1,\r\n        endLineNumber: diag.range.end.line + 1,\r\n        endColumn: diag.range.end.character + 1,\r\n        message: diag.message,\r\n        code: code,\r\n        source: diag.source\r\n    };\r\n}\r\n// --- completion ------\r\nfunction fromPosition(position) {\r\n    if (!position) {\r\n        return void 0;\r\n    }\r\n    return { character: position.column - 1, line: position.lineNumber - 1 };\r\n}\r\nfunction fromRange(range) {\r\n    if (!range) {\r\n        return void 0;\r\n    }\r\n    return { start: { line: range.startLineNumber - 1, character: range.startColumn - 1 }, end: { line: range.endLineNumber - 1, character: range.endColumn - 1 } };\r\n}\r\nfunction toRange(range) {\r\n    if (!range) {\r\n        return void 0;\r\n    }\r\n    return new Range$1(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\r\n}\r\nfunction toCompletionItemKind(kind) {\r\n    var mItemKind = monaco.languages.CompletionItemKind;\r\n    switch (kind) {\r\n        case CompletionItemKind.Text: return mItemKind.Text;\r\n        case CompletionItemKind.Method: return mItemKind.Method;\r\n        case CompletionItemKind.Function: return mItemKind.Function;\r\n        case CompletionItemKind.Constructor: return mItemKind.Constructor;\r\n        case CompletionItemKind.Field: return mItemKind.Field;\r\n        case CompletionItemKind.Variable: return mItemKind.Variable;\r\n        case CompletionItemKind.Class: return mItemKind.Class;\r\n        case CompletionItemKind.Interface: return mItemKind.Interface;\r\n        case CompletionItemKind.Module: return mItemKind.Module;\r\n        case CompletionItemKind.Property: return mItemKind.Property;\r\n        case CompletionItemKind.Unit: return mItemKind.Unit;\r\n        case CompletionItemKind.Value: return mItemKind.Value;\r\n        case CompletionItemKind.Enum: return mItemKind.Enum;\r\n        case CompletionItemKind.Keyword: return mItemKind.Keyword;\r\n        case CompletionItemKind.Snippet: return mItemKind.Snippet;\r\n        case CompletionItemKind.Color: return mItemKind.Color;\r\n        case CompletionItemKind.File: return mItemKind.File;\r\n        case CompletionItemKind.Reference: return mItemKind.Reference;\r\n    }\r\n    return mItemKind.Property;\r\n}\r\nfunction toTextEdit(textEdit) {\r\n    if (!textEdit) {\r\n        return void 0;\r\n    }\r\n    return {\r\n        range: toRange(textEdit.range),\r\n        text: textEdit.newText\r\n    };\r\n}\r\nvar CompletionAdapter = /** @class */ (function () {\r\n    function CompletionAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\r\n        get: function () {\r\n            return [' ', ':'];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, context, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.doComplete(resource.toString(), fromPosition(position));\r\n        }).then(function (info) {\r\n            if (!info) {\r\n                return;\r\n            }\r\n            var wordInfo = model.getWordUntilPosition(position);\r\n            var wordRange = new Range$1(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\r\n            var items = info.items.map(function (entry) {\r\n                var item = {\r\n                    label: entry.label,\r\n                    insertText: entry.insertText || entry.label,\r\n                    sortText: entry.sortText,\r\n                    filterText: entry.filterText,\r\n                    documentation: entry.documentation,\r\n                    detail: entry.detail,\r\n                    range: wordRange,\r\n                    kind: toCompletionItemKind(entry.kind),\r\n                };\r\n                if (entry.textEdit) {\r\n                    item.range = toRange(entry.textEdit.range);\r\n                    item.insertText = entry.textEdit.newText;\r\n                }\r\n                if (entry.additionalTextEdits) {\r\n                    item.additionalTextEdits = entry.additionalTextEdits.map(toTextEdit);\r\n                }\r\n                if (entry.insertTextFormat === InsertTextFormat.Snippet) {\r\n                    item.insertTextRules = monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet;\r\n                }\r\n                return item;\r\n            });\r\n            return {\r\n                isIncomplete: info.isIncomplete,\r\n                suggestions: items\r\n            };\r\n        });\r\n    };\r\n    return CompletionAdapter;\r\n}());\r\nfunction isMarkupContent(thing) {\r\n    return thing && typeof thing === 'object' && typeof thing.kind === 'string';\r\n}\r\nfunction toMarkdownString(entry) {\r\n    if (typeof entry === 'string') {\r\n        return {\r\n            value: entry\r\n        };\r\n    }\r\n    if (isMarkupContent(entry)) {\r\n        if (entry.kind === 'plaintext') {\r\n            return {\r\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\r\n            };\r\n        }\r\n        return {\r\n            value: entry.value\r\n        };\r\n    }\r\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\r\n}\r\nfunction toMarkedStringArray(contents) {\r\n    if (!contents) {\r\n        return void 0;\r\n    }\r\n    if (Array.isArray(contents)) {\r\n        return contents.map(toMarkdownString);\r\n    }\r\n    return [toMarkdownString(contents)];\r\n}\r\n// --- hover ------\r\nvar HoverAdapter = /** @class */ (function () {\r\n    function HoverAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.doHover(resource.toString(), fromPosition(position));\r\n        }).then(function (info) {\r\n            if (!info) {\r\n                return;\r\n            }\r\n            return {\r\n                range: toRange(info.range),\r\n                contents: toMarkedStringArray(info.contents)\r\n            };\r\n        });\r\n    };\r\n    return HoverAdapter;\r\n}());\r\n// --- document symbols ------\r\nfunction toSymbolKind(kind) {\r\n    var mKind = monaco.languages.SymbolKind;\r\n    switch (kind) {\r\n        case SymbolKind.File: return mKind.Array;\r\n        case SymbolKind.Module: return mKind.Module;\r\n        case SymbolKind.Namespace: return mKind.Namespace;\r\n        case SymbolKind.Package: return mKind.Package;\r\n        case SymbolKind.Class: return mKind.Class;\r\n        case SymbolKind.Method: return mKind.Method;\r\n        case SymbolKind.Property: return mKind.Property;\r\n        case SymbolKind.Field: return mKind.Field;\r\n        case SymbolKind.Constructor: return mKind.Constructor;\r\n        case SymbolKind.Enum: return mKind.Enum;\r\n        case SymbolKind.Interface: return mKind.Interface;\r\n        case SymbolKind.Function: return mKind.Function;\r\n        case SymbolKind.Variable: return mKind.Variable;\r\n        case SymbolKind.Constant: return mKind.Constant;\r\n        case SymbolKind.String: return mKind.String;\r\n        case SymbolKind.Number: return mKind.Number;\r\n        case SymbolKind.Boolean: return mKind.Boolean;\r\n        case SymbolKind.Array: return mKind.Array;\r\n    }\r\n    return mKind.Function;\r\n}\r\nvar DocumentSymbolAdapter = /** @class */ (function () {\r\n    function DocumentSymbolAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.findDocumentSymbols(resource.toString()); }).then(function (items) {\r\n            if (!items) {\r\n                return;\r\n            }\r\n            return items.map(function (item) { return ({\r\n                name: item.name,\r\n                detail: '',\r\n                containerName: item.containerName,\r\n                kind: toSymbolKind(item.kind),\r\n                range: toRange(item.location.range),\r\n                selectionRange: toRange(item.location.range),\r\n                tags: []\r\n            }); });\r\n        });\r\n    };\r\n    return DocumentSymbolAdapter;\r\n}());\r\nfunction fromFormattingOptions(options) {\r\n    return {\r\n        tabSize: options.tabSize,\r\n        insertSpaces: options.insertSpaces\r\n    };\r\n}\r\nvar DocumentFormattingEditProvider = /** @class */ (function () {\r\n    function DocumentFormattingEditProvider(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentFormattingEditProvider.prototype.provideDocumentFormattingEdits = function (model, options, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.format(resource.toString(), null, fromFormattingOptions(options)).then(function (edits) {\r\n                if (!edits || edits.length === 0) {\r\n                    return;\r\n                }\r\n                return edits.map(toTextEdit);\r\n            });\r\n        });\r\n    };\r\n    return DocumentFormattingEditProvider;\r\n}());\r\nvar DocumentRangeFormattingEditProvider = /** @class */ (function () {\r\n    function DocumentRangeFormattingEditProvider(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentRangeFormattingEditProvider.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.format(resource.toString(), fromRange(range), fromFormattingOptions(options)).then(function (edits) {\r\n                if (!edits || edits.length === 0) {\r\n                    return;\r\n                }\r\n                return edits.map(toTextEdit);\r\n            });\r\n        });\r\n    };\r\n    return DocumentRangeFormattingEditProvider;\r\n}());\r\nvar DocumentColorAdapter = /** @class */ (function () {\r\n    function DocumentColorAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentColorAdapter.prototype.provideDocumentColors = function (model, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.findDocumentColors(resource.toString()); }).then(function (infos) {\r\n            if (!infos) {\r\n                return;\r\n            }\r\n            return infos.map(function (item) { return ({\r\n                color: item.color,\r\n                range: toRange(item.range)\r\n            }); });\r\n        });\r\n    };\r\n    DocumentColorAdapter.prototype.provideColorPresentations = function (model, info, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.getColorPresentations(resource.toString(), info.color, fromRange(info.range)); }).then(function (presentations) {\r\n            if (!presentations) {\r\n                return;\r\n            }\r\n            return presentations.map(function (presentation) {\r\n                var item = {\r\n                    label: presentation.label,\r\n                };\r\n                if (presentation.textEdit) {\r\n                    item.textEdit = toTextEdit(presentation.textEdit);\r\n                }\r\n                if (presentation.additionalTextEdits) {\r\n                    item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\r\n                }\r\n                return item;\r\n            });\r\n        });\r\n    };\r\n    return DocumentColorAdapter;\r\n}());\r\nvar FoldingRangeAdapter = /** @class */ (function () {\r\n    function FoldingRangeAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    FoldingRangeAdapter.prototype.provideFoldingRanges = function (model, context, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.getFoldingRanges(resource.toString(), context); }).then(function (ranges) {\r\n            if (!ranges) {\r\n                return;\r\n            }\r\n            return ranges.map(function (range) {\r\n                var result = {\r\n                    start: range.startLine + 1,\r\n                    end: range.endLine + 1\r\n                };\r\n                if (typeof range.kind !== 'undefined') {\r\n                    result.kind = toFoldingRangeKind(range.kind);\r\n                }\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    return FoldingRangeAdapter;\r\n}());\r\nfunction toFoldingRangeKind(kind) {\r\n    switch (kind) {\r\n        case FoldingRangeKind.Comment: return monaco.languages.FoldingRangeKind.Comment;\r\n        case FoldingRangeKind.Imports: return monaco.languages.FoldingRangeKind.Imports;\r\n        case FoldingRangeKind.Region: return monaco.languages.FoldingRangeKind.Region;\r\n    }\r\n    return void 0;\r\n}\r\nvar SelectionRangeAdapter = /** @class */ (function () {\r\n    function SelectionRangeAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    SelectionRangeAdapter.prototype.provideSelectionRanges = function (model, positions, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.getSelectionRanges(resource.toString(), positions.map(fromPosition)); }).then(function (selectionRanges) {\r\n            if (!selectionRanges) {\r\n                return;\r\n            }\r\n            return selectionRanges.map(function (selectionRange) {\r\n                var result = [];\r\n                while (selectionRange) {\r\n                    result.push({ range: toRange(selectionRange.range) });\r\n                    selectionRange = selectionRange.parent;\r\n                }\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    return SelectionRangeAdapter;\r\n}());\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nfunction createTokenizationSupport(supportComments) {\r\n    return {\r\n        getInitialState: function () { return new JSONState(null, null, false); },\r\n        tokenize: function (line, state, offsetDelta, stopAtOffset) { return tokenize(supportComments, line, state, offsetDelta); }\r\n    };\r\n}\r\nvar TOKEN_DELIM_OBJECT = 'delimiter.bracket.json';\r\nvar TOKEN_DELIM_ARRAY = 'delimiter.array.json';\r\nvar TOKEN_DELIM_COLON = 'delimiter.colon.json';\r\nvar TOKEN_DELIM_COMMA = 'delimiter.comma.json';\r\nvar TOKEN_VALUE_BOOLEAN = 'keyword.json';\r\nvar TOKEN_VALUE_NULL = 'keyword.json';\r\nvar TOKEN_VALUE_STRING = 'string.value.json';\r\nvar TOKEN_VALUE_NUMBER = 'number.json';\r\nvar TOKEN_PROPERTY_NAME = 'string.key.json';\r\nvar TOKEN_COMMENT_BLOCK = 'comment.block.json';\r\nvar TOKEN_COMMENT_LINE = 'comment.line.json';\r\nvar JSONState = /** @class */ (function () {\r\n    function JSONState(state, scanError, lastWasColon) {\r\n        this._state = state;\r\n        this.scanError = scanError;\r\n        this.lastWasColon = lastWasColon;\r\n    }\r\n    JSONState.prototype.clone = function () {\r\n        return new JSONState(this._state, this.scanError, this.lastWasColon);\r\n    };\r\n    JSONState.prototype.equals = function (other) {\r\n        if (other === this) {\r\n            return true;\r\n        }\r\n        if (!other || !(other instanceof JSONState)) {\r\n            return false;\r\n        }\r\n        return this.scanError === other.scanError &&\r\n            this.lastWasColon === other.lastWasColon;\r\n    };\r\n    JSONState.prototype.getStateData = function () {\r\n        return this._state;\r\n    };\r\n    JSONState.prototype.setStateData = function (state) {\r\n        this._state = state;\r\n    };\r\n    return JSONState;\r\n}());\r\nfunction tokenize(comments, line, state, offsetDelta, stopAtOffset) {\r\n    if (offsetDelta === void 0) { offsetDelta = 0; }\r\n    // handle multiline strings and block comments\r\n    var numberOfInsertedCharacters = 0, adjustOffset = false;\r\n    switch (state.scanError) {\r\n        case 2 /* UnexpectedEndOfString */:\r\n            line = '\"' + line;\r\n            numberOfInsertedCharacters = 1;\r\n            break;\r\n        case 1 /* UnexpectedEndOfComment */:\r\n            line = '/*' + line;\r\n            numberOfInsertedCharacters = 2;\r\n            break;\r\n    }\r\n    var scanner = createScanner$1(line), kind, ret, lastWasColon = state.lastWasColon;\r\n    ret = {\r\n        tokens: [],\r\n        endState: state.clone()\r\n    };\r\n    while (true) {\r\n        var offset = offsetDelta + scanner.getPosition(), type = '';\r\n        kind = scanner.scan();\r\n        if (kind === 17 /* EOF */) {\r\n            break;\r\n        }\r\n        // Check that the scanner has advanced\r\n        if (offset === offsetDelta + scanner.getPosition()) {\r\n            throw new Error('Scanner did not advance, next 3 characters are: ' + line.substr(scanner.getPosition(), 3));\r\n        }\r\n        // In case we inserted /* or \" character, we need to\r\n        // adjust the offset of all tokens (except the first)\r\n        if (adjustOffset) {\r\n            offset -= numberOfInsertedCharacters;\r\n        }\r\n        adjustOffset = numberOfInsertedCharacters > 0;\r\n        // brackets and type\r\n        switch (kind) {\r\n            case 1 /* OpenBraceToken */:\r\n                type = TOKEN_DELIM_OBJECT;\r\n                lastWasColon = false;\r\n                break;\r\n            case 2 /* CloseBraceToken */:\r\n                type = TOKEN_DELIM_OBJECT;\r\n                lastWasColon = false;\r\n                break;\r\n            case 3 /* OpenBracketToken */:\r\n                type = TOKEN_DELIM_ARRAY;\r\n                lastWasColon = false;\r\n                break;\r\n            case 4 /* CloseBracketToken */:\r\n                type = TOKEN_DELIM_ARRAY;\r\n                lastWasColon = false;\r\n                break;\r\n            case 6 /* ColonToken */:\r\n                type = TOKEN_DELIM_COLON;\r\n                lastWasColon = true;\r\n                break;\r\n            case 5 /* CommaToken */:\r\n                type = TOKEN_DELIM_COMMA;\r\n                lastWasColon = false;\r\n                break;\r\n            case 8 /* TrueKeyword */:\r\n            case 9 /* FalseKeyword */:\r\n                type = TOKEN_VALUE_BOOLEAN;\r\n                lastWasColon = false;\r\n                break;\r\n            case 7 /* NullKeyword */:\r\n                type = TOKEN_VALUE_NULL;\r\n                lastWasColon = false;\r\n                break;\r\n            case 10 /* StringLiteral */:\r\n                type = lastWasColon ? TOKEN_VALUE_STRING : TOKEN_PROPERTY_NAME;\r\n                lastWasColon = false;\r\n                break;\r\n            case 11 /* NumericLiteral */:\r\n                type = TOKEN_VALUE_NUMBER;\r\n                lastWasColon = false;\r\n                break;\r\n        }\r\n        // comments, iff enabled\r\n        if (comments) {\r\n            switch (kind) {\r\n                case 12 /* LineCommentTrivia */:\r\n                    type = TOKEN_COMMENT_LINE;\r\n                    break;\r\n                case 13 /* BlockCommentTrivia */:\r\n                    type = TOKEN_COMMENT_BLOCK;\r\n                    break;\r\n            }\r\n        }\r\n        ret.endState = new JSONState(state.getStateData(), scanner.getTokenError(), lastWasColon);\r\n        ret.tokens.push({\r\n            startIndex: offset,\r\n            scopes: type\r\n        });\r\n    }\r\n    return ret;\r\n}\n\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nfunction setupMode(defaults) {\r\n    var disposables = [];\r\n    var providers = [];\r\n    var client = new WorkerManager(defaults);\r\n    disposables.push(client);\r\n    var worker = function () {\r\n        var uris = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            uris[_i] = arguments[_i];\r\n        }\r\n        return client.getLanguageServiceWorker.apply(client, uris);\r\n    };\r\n    function registerProviders() {\r\n        var languageId = defaults.languageId, modeConfiguration = defaults.modeConfiguration;\r\n        disposeAll(providers);\r\n        if (modeConfiguration.documentFormattingEdits) {\r\n            providers.push(monaco.languages.registerDocumentFormattingEditProvider(languageId, new DocumentFormattingEditProvider(worker)));\r\n        }\r\n        if (modeConfiguration.documentRangeFormattingEdits) {\r\n            providers.push(monaco.languages.registerDocumentRangeFormattingEditProvider(languageId, new DocumentRangeFormattingEditProvider(worker)));\r\n        }\r\n        if (modeConfiguration.completionItems) {\r\n            providers.push(monaco.languages.registerCompletionItemProvider(languageId, new CompletionAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.hovers) {\r\n            providers.push(monaco.languages.registerHoverProvider(languageId, new HoverAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.documentSymbols) {\r\n            providers.push(monaco.languages.registerDocumentSymbolProvider(languageId, new DocumentSymbolAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.tokens) {\r\n            providers.push(monaco.languages.setTokensProvider(languageId, createTokenizationSupport(true)));\r\n        }\r\n        if (modeConfiguration.colors) {\r\n            providers.push(monaco.languages.registerColorProvider(languageId, new DocumentColorAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.foldingRanges) {\r\n            providers.push(monaco.languages.registerFoldingRangeProvider(languageId, new FoldingRangeAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.diagnostics) {\r\n            providers.push(new DiagnosticsAdapter(languageId, worker, defaults));\r\n        }\r\n        if (modeConfiguration.selectionRanges) {\r\n            providers.push(monaco.languages.registerSelectionRangeProvider(languageId, new SelectionRangeAdapter(worker)));\r\n        }\r\n    }\r\n    registerProviders();\r\n    disposables.push(monaco.languages.setLanguageConfiguration(defaults.languageId, richEditConfiguration));\r\n    var modeConfiguration = defaults.modeConfiguration;\r\n    defaults.onDidChange(function (newDefaults) {\r\n        if (newDefaults.modeConfiguration !== modeConfiguration) {\r\n            modeConfiguration = newDefaults.modeConfiguration;\r\n            registerProviders();\r\n        }\r\n    });\r\n    disposables.push(asDisposable(providers));\r\n    return asDisposable(disposables);\r\n}\r\nfunction asDisposable(disposables) {\r\n    return { dispose: function () { return disposeAll(disposables); } };\r\n}\r\nfunction disposeAll(disposables) {\r\n    while (disposables.length) {\r\n        disposables.pop().dispose();\r\n    }\r\n}\r\nvar richEditConfiguration = {\r\n    wordPattern: /(-?\\d*\\.\\d\\w*)|([^\\[\\{\\]\\}\\:\\\"\\,\\s]+)/g,\r\n    comments: {\r\n        lineComment: '//',\r\n        blockComment: ['/*', '*/']\r\n    },\r\n    brackets: [\r\n        ['{', '}'],\r\n        ['[', ']']\r\n    ],\r\n    autoClosingPairs: [\r\n        { open: '{', close: '}', notIn: ['string'] },\r\n        { open: '[', close: ']', notIn: ['string'] },\r\n        { open: '\"', close: '\"', notIn: ['string'] }\r\n    ]\r\n};\n\nexport { setupMode };\n"],"sourceRoot":""}